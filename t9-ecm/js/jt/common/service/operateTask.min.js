var OperateTask={};OperateTask.detailTaskDialog=function(b){var e=new StringBuffer();if(b==null){b={};}for(var a in b){if(typeof b[a]!="function"){e.append("&"+a+"="+b[a]);
}}var c=ctx+"/gl/task/taskEntity/toDetailPage.htm";var d=e.toString();layer.open({type:2,title:'<font style="color:red;">【'+"明细"+"】</font>任务",maxmin:false,shadeClose:true,offset:"10%",btn:["确定","取消"],area:["70%","70%"],scrollbar:false,content:c+"?1=1"+d,yes:function(g,f){layer.close(g);
}});};OperateTask.editTaskDialog=function(b){var e=new StringBuffer();if(b==null){b={};}for(var a in b){if(typeof b[a]!="function"){e.append("&"+a+"="+b[a]);
}}var c=ctx+"/gl/task/taskEntity/toEditPage.htm";var d=e.toString();layer.open({type:2,title:'<font style="color:red;">【'+"编辑"+"】</font>任务",maxmin:false,shadeClose:true,offset:"10%",btn:["保存","取消"],area:["76%","60%"],scrollbar:false,content:c+"?1=1"+d,success:function(g,f){},yes:function(j,i){var h=layer.getChildFrame("body",j);
if($("#taskEntityForm",h).valid()){var g=null;g=ctx+"/gl/task/taskEntity/saveEdit.htm";var k=$("#taskEntityForm",h).serialize();var f=[];$("#commonImageContainer",h).find(".file-box").each(function(){var l={name:$(this).find(".file").attr("nameVal"),path:$(this).find(".file").attr("urlVal")};
f.push(l);});k=k+"&taskAttachs="+encodeURIComponent(JSON.stringify(f));FormUtils.submit(g,k,function(l){if(l.success){layer.close(j);if(b.updateSuccessFn){b.updateSuccessFn();
}}else{DialogUtils.error(msgCode.FAIL_MSG,l.msg);}},function(){DialogUtils.error(msgCode.ERROR,msgCode.ERROR_MSG);});}}});};OperateTask.addTaskDialog=function(b){var e=new StringBuffer();
if(b==null){b={};}for(var a in b){if(!$.isFunction(b[a])){e.append("&"+a+"="+b[a]);}}var c=ctx+"/gl/task/taskEntity/toAddPage.htm";var d=e.toString();layer.open({type:2,title:'<font style="color:red;">【'+"添加"+"】</font>任务",maxmin:false,shadeClose:true,btn:["保存","取消"],area:["60%","60%"],scrollbar:false,content:c+"?1=1"+d,success:function(f,g){f.find(".layui-layer-btn").attr("style","border-top:1px solid #ddd;text-align: right;padding: 0 15px 12px;pointer-events: auto;");
},yes:function(j,i){var h=layer.getChildFrame("body",j);if($("#taskEntityForm",h).valid()){var g=null;g=ctx+"/gl/task/taskEntity/saveAdd.htm";var k=$("#taskEntityForm",h).serialize();
var f=[];$("#commonImageContainer",h).find(".file-box").each(function(){var l={name:$(this).find(".file").attr("nameVal"),path:$(this).find(".file").attr("urlVal")};
f.push(l);});k=k+"&taskAttachs="+JSON.stringify(f);FormUtils.submit(g,k,function(l){if(l.success){layer.close(j);if(b.createSuccessFn){b.createSuccessFn();
}}else{DialogUtils.error(msgCode.FAIL_MSG,l.msg);}},function(){DialogUtils.error(msgCode.ERROR,msgCode.ERROR_MSG);});}}});};