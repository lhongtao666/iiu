function AdvanceSearch(){this.reloadFn=null;this.isReloadWhenClick=null;this.searchFormId=null;this.module=null;this.locationId=null;}AdvanceSearch._CONS_={LOAD_PLAN_URL:ctx+"/gl/ou/query/findByEntity.htm",};
AdvanceSearch.prototype={init:function(a){this.reloadFn=a.reloadFn;this.isReloadWhenClick=a.isReloadWhenClick;this.searchFormId=a.searchFormId;this.module=a.module;
this.locationId=a.locationId;this._loadQueryPlan();this._bindEventHandler();},_loadQueryPlan:function(){var a=this;FormUtils.loadData(AdvanceSearch._CONS_.LOAD_PLAN_URL+"?entityType="+a.module,function(b){if(b){a.queryArr=[];
var e=new StringBuffer();for(var c=0;c<b.length;c++){var d=b[c];a.queryArr[d.id]=d;e.append(a._createButton(d));}$("#"+a.locationId).empty().append(e.toString());
}});},_createButton:function(a){var b=new StringBuffer();b.append('<button type="button" idVal="'+a.id+'" class="btn btn-sm btn-outline btn-primary advanceSearchBtn">');
b.append(a.name);b.append("</button>");return b.toString();},_bindEventHandler:function(){var a=this;$("body").on("click",".advanceSearchBtn",function(){var b=$(this).attr("idVal");
var e=a.queryArr[b];var l=e.conditions;var k=new StringBuffer();if(l){for(var g=0;g<l.length;g++){var h=$("#"+a.searchFormId).find("input,textarea,select").val("");
var d=l[g];var m="[name='"+d.col+"']";if(d.colType){switch(d.colType){case"id":m="#"+d.col;break;case"class":m="."+d.col;break;case"name":m="[name='"+d.col+"']";
break;}}var j=$("#"+a.searchFormId+" "+m);if(!$.isEmptyObject(j)&&j){if(j.get(0).tagName=="select"||j.get(0).tagName=="SELECT"){j.val([d.value]);}else{var c=j.attr("type");
if(c=="checkbox"||c=="radio"){j.val([d.value]);}else{j.val(d.value);}}var f=j.get(0);k.append("&"+f.name+"="+f.value);}}}if(a.isReloadWhenClick){a.reloadFn(k.toString());
}});},};