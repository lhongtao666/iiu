var ColorCateUtils={getSelectedOptions:function(a){var c=null;c=$("#"+option.container);if(!c||!c.length){c=$("."+option.container);}var b=$(".tagColorOpt [name=optId]",c).val();
if(b){return b.split(",");}else{return[];}},init:function(d){var b=d.fn;var a=function(i,o,p){function e(v,t){var q=[];for(var s=0;s<t.length;s++){var r=t[s];
var u=r.value;if(v.indexOf(u)>-1){q.push(r);}}return q;}function h(q){var t=new StringBuffer();t.append("<div>");t.append('<input type="hidden" name="optId" value="'+q.csChooseTagArr.join(",")+'" />');
t.append("{{for opts}}");t.append('<div value="{{:value}}" class="colorOptSpanDiv" style="padding:2px; float:left;margin-right:4px;">');t.append('<span value="{{:value}}" class="colorOptSpan" style="color:white;background: {{:color}};border-radius: 4px;text-align:center; float:left;padding: 4px;" colorval="{{:color}}">');
t.append("{{:name}}");t.append("</span>");t.append('<span class="deleteColorOptSpan " style=" width:20px;color:white;float:left;background: {{:color}};border-radius: 4px;text-align:center;padding: 4px;cursor: pointer;" colorval="{{:color}}">');
t.append("x");t.append("</span>");t.append("</div>");t.append("{{/for}}");t.append("</div>");t.append('<div class="" style="padding:2px; float:left;margin-left:10px;">');
t.append('<span class="btn btn-primary plusBtn" type="button" style="padding-right:10px;float:left;border-radius: 4px;text-align:center;padding: 4px;">');
t.append('<i class="fa fa-plus"></i>');t.append("</span>");t.append("</div>");var r=t.toString();var s=$.templates(r).render(q);return s;}var f=p.selectedOption||[];
var j=e(f,i);var g={allOpts:i,opts:j,csChooseTagArr:f,};var m=new StringBuffer();m.append('<div class="tagColorOpt">');m.append(h(g));m.append("</div>");
var k=m.toString();var l=null;l=$("#"+c.container);if(!l||!l.length){l=$("."+c.container);}l.empty().append(k);var n=l;n.on("click",".deleteColorOptSpan",function(){var s=$(this);
var t=s.parents(".colorOptSpanDiv");t.remove();var q=[];var r=$(".colorOptSpanDiv");r.each(function(){var u=$(this).attr("value");q.push(u);});$(".tagColorOpt [name=optId]",n).val(q.join(","));
});$(document).on("click",".chooseColorLi",function(){var r=$(this);var q=r.find(".checkIcon");q.toggleClass("fa").toggleClass("fa-check");});n.on("click",".plusBtn",function(){var u={allOpts:i,};
var D=$(this);var w=D.parents(".colorOptSpanDiv");var B=$(".tagColorOpt [name=optId]",n).val();var t=B.split(",");var C=[];for(var v=0;v<u.allOpts.length;
v++){var s=u.allOpts[v];var q=u.allOpts[v].value;if(t.indexOf(q)>-1){s.isChecked="y";}else{s.isChecked="";}C.push(s);}u.opts=C;var A=n.selector;var E=new StringBuffer();
E.append('<div parentSelector="'+A+'" class="list-worker-group colorAlertDialogDiv" style="float: left;overflow: auto;display: block;width: 100%;max-height: 450px;" >');
E.append('<ul style="float: left;margin: 0; padding: 0;width: 100%;list-style: none;">');E.append("{{for opts}}");E.append('<li idVal="{{:value}}" class="chooseColorLi" style="width: 100%;float: left; margin: 0;padding: 5px !important;border-bottom: 1px solid #eee;cursor: pointer;display: list-item;text-align: -webkit-match-parent;" >');
E.append('<div style="display: inline-block;margin-bottom: 0;font-weight: 400;text-align: center;touch-action: manipulation;cursor: pointer;border: 1px solid transparent;white-space: nowrap;padding: 6px 12px;font-size: 14px;line-height: 1.42857; border-radius: 4px;-moz-user-select: none;user-select: none; box-shadow: none!important; margin-right: 10px!important;padding: 0;width: 34px;height: 34px;line-height: 32px !important; outline: 0!important;text-transform: capitalize;text-align: center;color: #fff;background-color: {{:color}};border-color: #F7CA18;">');
E.append("{{if isChecked}}");E.append('<i style="visibility:visiable;text-rendering: auto;font-size: 12px!important;display: inline-block;line-height: 14px; -webkit-font-smoothing: antialiased; width: 1.25em;text-align: center;" class="checkIcon fa fa-check"></i>');
E.append("{{else}}");E.append('<i class="checkIcon" style="visibility:hide;text-rendering: auto;font-size: 12px!important;display: inline-block;line-height: 14px; -webkit-font-smoothing: antialiased; width: 1.25em;text-align: center;"></i>');
E.append("{{/if}}");E.append("</div>");E.append("{{:name}}");E.append("</li>");E.append("{{/for}}");E.append("</ul>");E.append("</div>");var x=E.toString();
var z=$.templates(x).render(u);var y=z;function r(H,G){if(!H||!H.length){if(!G||!G.length){return true;}}else{if(!G||!G.length){return false;}else{if(H.length!=G.length){return false;
}else{var F=true;for(var I=G.length-1;I>=0;I--){if(H.indexOf(G[I])<0){F=false;break;}}return F;}}}}layer.open({area:["360px","300px"],type:1,btnAlign:"c",btn:["确定"],skin:"layui-layer-demo",closeBtn:1,anim:2,shadeClose:true,yes:function(J,I){var G=$(".chooseColorLi",$("[parentSelector='"+A+"']"));
G=G.filter(function(N){var M=$(this).find(".checkIcon");return M.hasClass("fa-check");});var H=[];G.each(function(M,N){H.push($(this).attr("idVal"));});
var K=u;K.csChooseTagArr=H;var F=e(K.csChooseTagArr,K.allOpts);K.opts=F;var L=h(K);$(".tagColorOpt",n).empty().append(L);if(p.onChange&&!r(t,H)){p.onChange(H,t);
}layer.close(J);},content:y});});if(b){b(i,o);}};var c=$.extend({},d);c.fn=a;CateUtils.getOptions(c);},};