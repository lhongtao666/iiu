$(function(){function b(){this.$container=$('div[srcVal="/crm/ou/employee/salePerformanceForOrg.htm"]');}b._CONS_={FIND_SALE_PERFORMANCE:ctx+"/ec/rp/reportProfit/listDeskTopGroupData.htm",};
b.prototype={init:function(){var c=this;c._bindEventHander();c._loadData();},_bindEventHander:function(){var c=this;c.$container.on("change","#timeRange",function(){c._loadData();
});},_loadData:function(){var d=this;var e="";var c=new Date();if($("#timeRange").val()=="thisMonth"){e+="Q__D__BW__place_time_="+DateUtils.format(DateUtils.getMonthFirst(c.getFullYear(),c.getMonth()+1),"yyyy-MM-dd HH:mm:ss")+","+DateUtils.format(DateUtils.getMonthLast(c.getFullYear(),c.getMonth()+1),"yyyy-MM-dd HH:mm:ss");
}else{e+="Q__D__BW__place_time_="+DateUtils.format(DateUtils.getMonthFirst(c.getFullYear(),c.getMonth()),"yyyy-MM-dd HH:mm:ss")+","+DateUtils.format(DateUtils.getMonthLast(c.getFullYear(),c.getMonth()),"yyyy-MM-dd HH:mm:ss");
}FormUtils.loadData(b._CONS_.FIND_SALE_PERFORMANCE+"?"+e,function(f){if(f!=null&&f!=""){d.$container.find("#placeCount").text(f.placeCount+"个/");d.$container.find("#placeAmount").text(parseFloat(f.placeAmount).toFixed(0)+"元");
if(f.placeCount!=0&&f.newCsCount==0){d.$container.find("#done").text(100+"%");}else{if(f.placeCount!=0&&f.newCsCount!=0){if((f.placeCount/f.newCsCount)>1){d.$container.find("#done").text(100+"%");
}else{d.$container.find("#done").text(parseFloat((f.placeCount/f.newCsCount*100)).toFixed(0)+"%");}}else{if(f.placeCount==0){d.$container.find("#done").text(0+"%");
}}}d.$container.find("#auditCount").text(f.auditCount+"个/");d.$container.find("#auditAmount").text(parseFloat(f.auditAmount).toFixed(0)+"元");if(f.auditCount!=0&&f.placeCount==0){d.$container.find("#check").text(100+"%");
}else{if(f.auditCount!=0&&f.placeCount!=0){if((f.auditCount/f.placeCount)>1){d.$container.find("#check").text(100+"%");}else{d.$container.find("#check").text(parseFloat(f.auditCount/f.placeCount*100).toFixed(0)+"%");
}}else{if(f.auditCount==0){d.$container.find("#check").text(0+"%");}}}d.$container.find("#signCount").text(f.signCount+"个/");d.$container.find("#signAmount").text(parseFloat(f.signAmount).toFixed(0)+"元");
if(f.signCount!=0&&f.placeCount==0){d.$container.find("#sign").text(100+"%");}else{if(f.signCount!=0&&f.placeCount!=0){if((f.signCount/f.placeCount)>1){d.$container.find("#sign").text(100+"%");
}else{d.$container.find("#sign").text(parseFloat(f.signCount/f.placeCount*100).toFixed(0)+"%");}}else{if(f.signCount==0){d.$container.find("#sign").text(0+"%");
}}}d.$container.find("#shipCount").text(f.shipCount+"个/");d.$container.find("#shipAmount").text(parseFloat(f.shipAmount).toFixed(0)+"元");d.$container.find("#rejectCount").text(f.rejectCount+"个/");
d.$container.find("#rejectAmount").text(parseFloat(f.rejectAmount).toFixed(0)+"元");}else{d.$container.find("#auditCount").text("无");d.$container.find("#auditAmount").text("");
d.$container.find("#done").text("无");d.$container.find("#checkCount").text("无");d.$container.find("#checkAmount").text("");d.$container.find("#check").text("无");
d.$container.find("#signCount").text("无");d.$container.find("#signAmount").text("");d.$container.find("#sign").text("无");d.$container.find("#shipCount").text("无");
d.$container.find("#shipAmount").text("");d.$container.find("#rejectCount").text("无");d.$container.find("#rejectAmount").text("");}});}};var a=new b();
a.init();});