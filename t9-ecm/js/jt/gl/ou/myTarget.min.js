$(function(){var a=new MyTarget();a.init();});function MyTarget(){this.hadInit=false;this.isEdit=false;this.isFormDataChange=false;}MyTarget._CONS_={LIST_DATA_URL:ctx+"/gl/ou/employeeComplete/listData.htm",};
MyTarget.prototype={init:function(a){if(!this.hadInit){this.hadInit=true;this._bindEventHander();this._initMyTarget(a);this._locateToGlHelp();}},_locateToGlHelp:function(){var a="glHelp.group_employee.myTarget";
glHelpUtil.init(a);},_bindEventHander:function(){var a=this;$(".list_wrapper").on("click",".employeeCompleteSearch",function(){var b=$(this).closest("form").serialize();
a._initMyTarget(b);});$("#employeeCompleteSearchForm").on("keypress",function(b){if(b.keyCode=="13"){$(".employeeCompleteSearch").trigger("click");}});
},_initMyTarget:function(a){FormUtils.loadData(MyTarget._CONS_.LIST_DATA_URL+"?Q__S__EQ__target.employee_id_="+currentUserId+"&"+a,function(d){var e=new StringBuffer();
e.append("<form class='form-horizontal' style='padding:10px; text-align:center;'>");if(d&&d.length>0){for(var b=0;b<d.length;b++){var c=(d[b].count/d[b].target*100).toFixed(0)+"%";
if(b%6==0){e.append("<div class='form-group'>");}e.append("<div class='col-sm-2'>");e.append("<button class='btn ");if(d[b].isComplete=="y"){e.append("btn-info ");
}else{e.append("btn-danger ");}e.append("btn-circle' type='button' style='width:100px;height:100px;border-radius:50px;font-size:27px;padding:10px;'>");
e.append(c+"</button>");e.append("<p style='margin:0px;font-size:13px;'>"+d[b].period+"</p>");e.append("<p style='margin:0px;font-size:13px;'>金额："+d[b].count+"/"+d[b].target+"</p>");
e.append("</div>");if(b%6==5){e.append("</div>");}}}else{e.append("<div style='color:red;font-weight: bold;'><br>当前没有数据</div>");}e.append("</form>");$(".myTargetContent").empty().append(e.toString());
});},};