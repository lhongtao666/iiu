$(function(){function b(){}b._CONS_={LIST_DATA_URL:ctx+"/gl/logger/glLogRecord/getLogOfLevelNumByTimePeriods.htm",CHART_DIV:"logReport",};b.prototype={init:function(d){var c=this;
c.bindEventHander();c.getData(0);},getData:function(d){var c=this;$.ajax({url:b._CONS_.LIST_DATA_URL,data:{day:d},type:"POST",dataType:"json",cache:false,async:true,success:function(e){c.createReport(e);
},error:function(){DialogUtils.error("信息","清除数据失败");}});},bindEventHander:function(){var c=this;$(document).on("click",".dayBefore",function(){c.setButtonColor($(this));
c.getData(-2);});$(document).on("click",".tomorrow",function(){c.setButtonColor($(this));c.getData(-1);});$(document).on("click",".today",function(){c.setButtonColor($(this));
c.getData(0);});},setButtonColor:function(c){$(".color").removeClass("btn-primary");c.addClass("btn-primary");},createReport:function(e){var c=new Report();
c.data=e;c.setLegend(true,["info","warn","error"],null,"left");c.legend.formatter=function(f){if("info"==f){return"info";}else{if("warn"==f){return"warn";
}else{if("error"==f){return"error";}}}};c.setToolboxShow(false,false);c.tooltip.trigger="axis";c.tooltip.formatter=function(k,j,m){var h=k[0].name+"时";
for(var g=0,f=k.length;g<f;g++){if(!k[g].value){h+="<br/>"+k[g].seriesName+" : "+0+"个";}else{h+="<br/>"+k[g].seriesName+" : "+k[g].value+"个";}}return h;
};c.initSeries([{type:"bar",colName:"info",legendName:"info"},{type:"bar",colName:"warn",legendName:"warn"},{type:"bar",colName:"error",legendName:"error"},],"hour");
c.setYAxisInfo("个数",{show:true,onZero:true,lineStyle:{color:"#C1C1C1",width:2,type:"solid"}});var d=["#7eb00a","#FFFF00","#FF0033"];c._initChart(b._CONS_.CHART_DIV,"日志统计",d);
}};var a=new b();a.init();});