$(function(){var a=new Config();a.init();});function Config(){this.cateId="";this.cateTree=null;}Config._CONS_={GRID:"#configGrid",PAGER:"#configPager",CATE_TYPE_KEY:"system",CATE_KEY:"settings",SAVE_ADD_URL:ctx+"/gl/config/config/saveAdd.htm",DELETE_URL:ctx+"/gl/config/config/delete.htm",DELETE_BY_CATE_URL:ctx+"/gl/config/config/deleteByCateId.htm",SAVE_EDIT_URL:ctx+"/gl/config/config/saveEdit.htm"};
Config.prototype={init:function(){this._bindEventHandler();this._bindFormValidation();this._initConfigTree();$(".config-panels").height($("body").height());
},_initConfigTree:function(){var a=this;var b={canLeafShowAddBtn:false,inner:false,treeId:"configTree",cateTypeKey:"system",rootKey:configType=="common"?"settings":"settings_dev",userId:"",contextMenu:{add:{isShow:ResUtils.canShow("config.button.addCate"),title:"添加",clickFn:function(c){},clazz:"addCateBtn"},update:{isShow:ResUtils.canShow("config.button.updateCate"),title:"更新",clickFn:function(){},clazz:"updateCateBtn"},del:{isShow:ResUtils.canShow("config.button.deleteCate"),title:"删除",clickFn:function(c){DialogUtils.confirm(function(){FormUtils.del(Config._CONS_.DELETE_BY_CATE_URL,c.id,function(d){if(d.success){DialogUtils.success(msgCode.INFO,msgCode.DELETE_MSG);
$.fn.zTree.getZTreeObj("configTree").removeNode(c);}else{DialogUtils.error(msgCode.FAIL,msgCode.FAIL_MSG);}});});},clazz:"deleteCateBtn"},},saveFn:function(c){a.cateId=c.id;
a._loadConfig();},onClick:function(c){a.cateId=c.id;a._showEditBtn();$("input[name='cateId']").val(c.id);$("#cancelConfigBtn").hide();$("#saveConfigBtn").text("添加");
a._loadConfig();}};ZtreeUtils.init(b);},_noSelect:function(){FormUtils.clear("configForm2");FormUtils.disableForm("configForm2");$("#configTable").find("tr:gt(0)").remove();
this._hideAllBtn();},_hideAllBtn:function(){$("#saveConfigBtn").hide();$("#cancelConfigBtn").hide();},_showEditBtn:function(){$("#saveConfigBtn").show();
$("#cancelConfigBtn").show();},_bindFormValidation:function(a){if(a==null){a={rules:{name:{required:true,},dataType:{required:true,},key:{required:true}}};
}FormUtils.bindFormValidation("configForm2",a);},_save:function(d){var c=this;c._bindFormValidation();var b=$("#configForm2 select[name='dataType']").val();
var h=$("#configForm2 input[name='id']").val();if(h){$("input[name='key']").attr("disabled","disabled");$("select[name='dataType']").attr("disabled","disabled");
}if($("#configForm2").valid()){var g=$("#configForm2").serialize();if(b=="selectString"){g+="&value="+$("#valueContainer").find(".selectString option:selected").val();
g+="&defaultValue="+$("#defaultValueContainer").find(".selectString option:selected").val();var e=$("#selectValueContainer").find("[name='selectValue']").val();
if(!e||!c.isJSON(e)){DialogUtils.error(msgCode.FAIL,"请填写正确的选项值");return;}}else{if(b=="json"){var f=$("#valueContainer").find("[name='value']").val();if(!e||!c.isJSON(e)){DialogUtils.error(msgCode.FAIL,"请填写正确的json值");
return;}}}var a=$("input[name='id']").val()?Config._CONS_.SAVE_EDIT_URL:Config._CONS_.SAVE_ADD_URL;FormUtils.submit(a,g,function(i){if(i.success){c._loadConfig();
layer.close(d);if(i.msgCode==actionCode.CREATE){DialogUtils.success(msgCode.INFO,msgCode.CREATE_MSG);}else{if(i.msgCode==actionCode.UPDATE){DialogUtils.success(msgCode.INFO,msgCode.UPDATE_MSG);
}}}else{DialogUtils.error(msgCode.FAIL,i.msg);}},function(){ButtonUtils.enableBtn("saveConfigBtn");DialogUtils.error(msgCode.ERROR,msgCode.ERROR_MSG);});
}},_delete:function(b,a){DialogUtils.confirm(function(){FormUtils.del(Config._CONS_.DELETE_URL,b,function(c){if(c.success){if(c.msgCode==actionCode.DELETE){a.remove();
DialogUtils.success(actionCode.INFO,msgCode.DELETE_MSG);}}else{DialogUtils.success(actionCode.FAIL,msgCode.FAIL_MSG);}});});},_switchToDataType:function(b){var a=this;
$("#valueContainer").empty().append(a._getHtmlByDataType("value",b,"","","y"));$("#defaultValueContainer").empty().append(a._getHtmlByDataType("defaultValue",b,""));
if(b=="selectString"){$("#selectValueContainer").show();}else{$("#selectValueContainer").hide();}},_getHtmlByDataType:function(d,g,h,c,e,i){var j="";switch(g){case"selectString":var f=new StringBuffer();
f.append("<select class='form-control selectString'>");if(i){var b=JSON.parse(i);for(key in b){f.append("<option value='"+key+"' "+((key==h)?"selected":"")+">"+b[key]+"</option>");
}}f.append("</select>");j=f.toString();break;case"integer":j="<input name='"+d+"' class='form-control required digits'  value='"+h+"'autocomplete='off' >";
break;case"decimal":j="<input name='"+d+"' class='form-control required number'   value='"+h+"' autocomplete='off'>";break;case"date":j="<input class='laydate-icon form-control layer-date required' name='"+d+"' onclick=\"laydate({istime: true, format: 'YYYY-MM-DD'})\" value='"+h+"' autocomplete='off'>";
break;case"datetime":j="<input class='laydate-icon form-control layer-date required' name='"+d+"' onclick=\"laydate({istime: true, format: 'YYYY-MM-DD hh:mm:ss'})\"   value='"+h+"' autocomplete='off'>";
break;case"string":j="<input name='"+d+"' class='form-control required'  value='"+h+"' autocomplete='off'>";break;case"boolean":var a=(h==="y")?"checked='checked'":"";
var f=new StringBuffer();f.append("<div class='switch switch-3' ");f.append("onclick='");f.append('$(this).find("input").attr("checked")?');f.append('$(this).find("input").removeAttr("checked"):');
f.append('$(this).find("input").attr("checked", "checked");');f.append("' >");f.append('<input name="'+d+'" value="y" type="checkbox" '+a+">");f.append("<label><i></i></label></div>");
j=f.toString();break;}return j;},_bindEventHandler:function(){var a=this;$("#saveConfigBtn").on("click",function(){a._save();});$(document).on("click",".selectImageBtn",function(){ImageUtils.selectImage(0,function(b){var c=ImageUtils.createImageDivStr(b);
$(".imageConatiner").empty().append(c);});});$(document).on("click",".selectDefaultImageBtn",function(){ImageUtils.selectImage(0,function(b){var c=ImageUtils.createImageDivStr(b);
$(".imageDfaultConatiner").empty().append(c);});});$("body").on("change","select[name='dataType']",function(){var b=$(this).val();$(".colpick ").remove();
a._switchToDataType(b);});$("body").on("click",".editConfigBtn",function(){var c=$(this).parent().parent();var b={};b.id=c.attr("idVal");b.createTime=c.attr("createTime");
b.name=c.attr("nameVal");b.key=c.attr("key");b.dataType=c.attr("dataType");b.value=c.attr("valueVal");b.cateId=c.attr("cateId");a._openEditDialog(b);});
$("#cancelConfigBtn").on("click",function(){FormUtils.clear("configForm2");$("#saveConfigBtn").text("添加");$("#configTable").find("tr").removeClass("info");
$("input[name='cateId']").val(a.cateId);$(this).hide();});$("body").on("click",".deleteConfigBtn",function(b){var c=$(this).parent().parent().attr("idVal");
a._delete(c,$(this).parent().parent());b.stopPropagation();});$("body").on("click",".add-config",function(){var c=$(this).attr("cateId");var b={};b.cateId=c;
a._openEditDialog(b,"添加系统配置");});if(ResUtils.canShow("config.button.saveEdit")){$("body").on("dblclick",".config-tr",function(){var f="";var g="";var i=$(this).attr("valueVal");
var k=$(this).attr("selectValue");if(i){f=[{url:i,name:"",id:""}];g=ImageUtils.createImageDivStr(f);}var h=$(this).attr("dataType");var b=a._getHtmlByDataType("value",h,i,g,"n",k);
var d=$(this).find(".config-val");var e=$(this).find(".cate-val");var c=$(this).find(".cate-val").text();var j=$(this).find(".cate-val").attr("cateIdVal");
d.empty().append(b);e.empty().append("<input type='text' readonly='readonly' name='cateName' class='form-control' id='cateName' validatetype='default' value='"+c+"'><input type='hidden' name='cateId' value='"+j+"'>");
new Switchery($(".js-switch"),{color:"#1AB394"});});}$(document).on("click",".saveImg",function(){var d={};var b=$(this).parents().find(".imgTd").parent();
var c=$(this).parent().prev().find(".file").attr("urlVal");d.cateId=b.attr("cateId");d.name=b.attr("nameVal");d.id=b.attr("idVal");d.key=b.attr("key");
d.dataType=b.attr("dataType");d.value=c;FormUtils.submit(Config._CONS_.SAVE_EDIT_URL,d,function(e){if(e.success){a._loadConfig();if(e.msgCode==actionCode.CREATE){DialogUtils.success(msgCode.INFO,msgCode.CREATE_MSG);
}else{if(e.msgCode==actionCode.UPDATE){DialogUtils.success(msgCode.INFO,msgCode.UPDATE_MSG);}}}else{DialogUtils.error(msgCode.FAIL,e.msg);}},null,true);
});$("body").on("blur",".config-val",function(){if(!$(this).is(".imgTd")){var c=$("[name=value]").val();var d={};var b=$(this).parent();d.cateId=b.attr("cateId");
d.name=b.attr("nameVal");d.id=b.attr("idVal");d.key=b.attr("key");d.dataType=b.attr("dataType");d.selectValue=b.attr("selectValue");if(d.dataType=="selectString"){d.value=$(".selectString option:selected").val();
}else{if(d.dataType==="boolean"){d.value=$("[name=value]").attr("checked")?"y":"n";}else{d.value=$("[name=value]").val();}}FormUtils.submit(Config._CONS_.SAVE_EDIT_URL,d,function(e){if(e.success){a._loadConfig();
if(e.msgCode==actionCode.CREATE){DialogUtils.success(msgCode.INFO,msgCode.CREATE_MSG);}else{if(e.msgCode==actionCode.UPDATE){DialogUtils.success(msgCode.INFO,msgCode.UPDATE_MSG);
}}}else{DialogUtils.error(msgCode.FAIL,e.msg);}},null,true);}});$("body").on("click","#cateName",function(){var b={isMultiple:0,typeKey:"system",pKey:"settings",selectedCateIds:$(this).parent().attr("cateIdVal"),container:"cateName",fn:function(d){$("#cateName").parent().attr("cateIdVal",d);
var e={};var c=$("#cateName").parent().parent();e.cateId=d;e.name=c.attr("nameVal");e.id=c.attr("idVal");e.key=c.attr("key");e.dataType=c.attr("dataType");
e.value=$("[name=value]").val();FormUtils.submit(Config._CONS_.SAVE_EDIT_URL,e,function(f){if(f.success){a._loadConfig();if(f.msgCode==actionCode.CREATE){DialogUtils.success(msgCode.INFO,msgCode.CREATE_MSG);
}else{if(f.msgCode==actionCode.UPDATE){DialogUtils.success(msgCode.INFO,msgCode.UPDATE_MSG);}}}else{DialogUtils.error(msgCode.FAIL,f.msg);}},null,true);
}};CateUtils.selectCateTreeBox(b);});$("body").on("click",".defaultValBtn",function(){var d={};var c=$(this).parent().parent();d.cateId=c.attr("cateId");
d.name=c.attr("nameVal");d.id=c.attr("idVal");d.key=c.attr("key");d.dataType=c.attr("dataType");d.value=c.attr("defaultVal");var b=c.attr("defaultVal");
if(d.dataType=="boolean"){if(b=="y"){b="是";}else{b="否";}}DialogUtils.confirmWithOptions({title:"是否恢复到默认值："+b,text:"",confirmButtonText:"确认",yesFunc:function(){FormUtils.submit(Config._CONS_.SAVE_EDIT_URL,d,function(e){if(e.success){a._loadConfig();
if(e.msgCode==actionCode.CREATE){DialogUtils.success(msgCode.INFO,msgCode.CREATE_MSG);}else{if(e.msgCode==actionCode.UPDATE){DialogUtils.success(msgCode.INFO,msgCode.UPDATE_MSG);
}}}else{DialogUtils.error(msgCode.FAIL,e.msg);}},null,true);}});});$("body").on("click",".lastValBtn",function(){var d={};var c=$(this).parent().parent();
d.cateId=c.attr("cateId");d.name=c.attr("nameVal");d.id=c.attr("idVal");d.key=c.attr("key");d.dataType=c.attr("dataType");d.value=c.attr("lastVal");var b=c.attr("lastVal");
if(d.dataType=="boolean"){if(b=="y"){b="是";}else{b="否";}}DialogUtils.confirmWithOptions({title:"是否恢复到上次值："+b,text:"",confirmButtonText:"确认",yesFunc:function(){FormUtils.submit(Config._CONS_.SAVE_EDIT_URL,d,function(e){if(e.success){a._loadConfig();
if(e.msgCode==actionCode.CREATE){DialogUtils.success(msgCode.INFO,msgCode.CREATE_MSG);}else{if(e.msgCode==actionCode.UPDATE){DialogUtils.success(msgCode.INFO,msgCode.UPDATE_MSG);
}}}else{DialogUtils.error(msgCode.FAIL,e.msg);}},null,true);}});});$("body").on("blur","input[name='selectValue']",function(){var b=$("select[name='dataType']").val();
if(b!="selectString"){return;}var c=$(this).val();if(c&&a.isJSON(c)){var d=JSON.parse(c);var e=new StringBuffer();for(key in d){e.append("<option value='"+key+"'>"+d[key]+"</option>");
}$(".selectString").empty().append(e.toString());}else{DialogUtils.error(msgCode.FAIL,"请填写正确的选项值");}});$("body").on("click",".config-panel",function(b){if(b.target.type!="button"){$(this).parent(".panel").find(".panel-body").slideToggle();
}});if(ResUtils.canShow("config.button.saveEdit")){$("body").on("change",".config-tr input[type=radio]",function(){var b=$(this).parents(".config-tr");
var c=$(b.find("input[type='radio']:checked")[0]).val();a._saveEdit(b,c);});$("body").on("blur",".config-tr input[type=text]",function(){var b=$(this).parents(".config-tr");
var c=$(this).val();a._saveEdit(b,c,this);});$("body").on("change",".config-tr input.config-date",function(){var b=$(this).parents(".config-tr");var c=$(this).val();
a._saveEdit(b,c,this);});$("body").on("click",".config-date",function(){var b=this;laydate({istime:true,format:"YYYY-MM-DD"+($(b).hasClass("long")?" hh:mm:ss":""),choose:function(c){$(b).trigger("change");
}});});}if(ResUtils.canShow("config.button.add")){$("body").on("dblclick",".config-tr",function(){var b={};b.cateId=$(this).attr("cateId");b.name=$(this).attr("nameVal");
b.id=$(this).attr("idVal");b.key=$(this).attr("key");b.dataType=$(this).attr("dataType");b.selectValue=$(this).attr("selectValue");b.defaultValue=$(this).attr("defaultVal");
b.value=$(this).attr("valueVal");a._openEditDialog(b,"修改系统配置");return false;});}},_saveEdit:function(b,e,d){var a=b.attr("valueVal");if(a==e){return;}var f={};
f.cateId=b.attr("cateId");f.name=b.attr("nameVal");f.id=b.attr("idVal");f.key=b.attr("key");f.dataType=b.attr("dataType");f.selectValue=b.attr("selectValue");
f.defaultValue=b.attr("defaultVal");f.value=e;if(f.dataType=="integer"){var c=new RegExp("^[0-9]+$");if(!c.test(e)){DialogUtils.error(msgCode.FAIL,"格式错误保存失败");
$(d).val(a);return;}}else{if(f.dataType=="decimal"){var c=new RegExp("^[0-9]+.?[0-9]+$");if(!c.test(e)){DialogUtils.error(msgCode.FAIL,"格式错误保存失败");$(d).val(a);
return;}}}FormUtils.submit(Config._CONS_.SAVE_EDIT_URL,f,function(g){if(g.success){b.attr("valueVal",e);if(g.msgCode==actionCode.CREATE){DialogUtils.success(msgCode.INFO,msgCode.CREATE_MSG);
}else{if(g.msgCode==actionCode.UPDATE){DialogUtils.success(msgCode.INFO,msgCode.UPDATE_MSG);}}}else{DialogUtils.error(msgCode.FAIL,g.msg);}},null,true);
},_loadConfig:function(){var a=this;FormUtils.loadData(ctx+"/gl/config/config/listAll.htm"+"?isParent=true&cateId="+this.cateId,function(c){var d=new StringBuffer();
$.each(c,function(h,g){var f=h.split(",")[0];var e=h.split(",")[1];var i=h.split(",")[2];d.append(a._createPanel(f,e,g,i));});$(".config-panels").empty();
$(".config-panels").append(d.toString());$(".deleteImage").hide();var b=$(".config-tr");$.each(b,function(){var e=$(this).find(".config-name").height();
var g=$(this).find(".config-value").height()-4;var f=e;$(this).height(f+16);if(g==e){return;}if(g>e){f=g;$(this).find(".config-name").css({"height":f+16});
}else{$(this).find(".config-value").css({"height":f+16});}$(this).find(".config-type").css({"height":f+16});});if(!ResUtils.canShow("config.button.saveEdit")){$(".config-tr").find("input").attr("disabled",true);
}});},_openEditDialog:function(c,g){var l=this;var b=c.id;var k=c.cateId;var a=c.name;var h=c.value;var j=c.createTime;var i=c.key;var f=c.dataType;var m=c.selectValue;
var e=c.defaultValue;var d=this._createDialogHtml(c);layer.open({type:1,title:[g?g:"编辑系统配置","text-align:center"],shadeClose:false,btn:["保存","关闭"],area:["50%","50%"],content:d,success:function(n,o){$("input[name='name']").val(a);
$("input[name='createTime']").val(j);$("input[name='key']").val(i);$("input[name='id']").val(b);if(f){$("select[name='dataType']").val(f);}$("select[name='dataType']").trigger("change");
if(f=="json"){$("textarea[name='value']").val(h);}else{if(f=="boolean"){if(h=="y"){$("#valueContainer").find(".switch-3 input[type=checkbox]").attr("checked","checked");
}if(e=="y"){$("#defaultValueContainer").find(".switch-3 input[type=checkbox]").attr("checked","checked");}}else{$("input[name='value']").val(h);}}$("input[name='defaultValue']").val(e);
$("input[name='selectValue']").val(m);$("input[name='selectValue']").trigger("blur");$("input[name='name']").focus();if(b){$("input[name='key']").attr("disabled","disabled");
$("select[name='dataType']").attr("disabled","disabled");}},yes:function(o,n){$("input[name='key']").removeAttr("disabled");$("select[name='dataType']").removeAttr("disabled");
l._save(o);},cancel:function(){}});},_bulidSelectString:function(c,b){var d=JSON.parse(b);var a="";a=d[c];return a;},_createConfigList:function(a,d,g){var b=this;
var f="";var h=new StringBuffer();if(a&&a.length>0){for(var e=0;e<a.length;e++){var c=a[e];h.append("<div class='config-tr' cateId='"+c.cateId+"' nameVal='"+c.name+"' valueVal='"+c.value+"' key='"+c.key+"' dataType='"+c.dataType+"' idVal='"+c.id+"' createTime='"+c.createTime+"' defaultVal='"+c.defaultValue+"' lastVal='"+c.lastValue+"' selectValue="+c.selectValue+">");
h.append("<div class='config-name'>"+c.name+"</div>");h.append("<div class='config-type'>"+b._getDataTypeName(c.dataType)+"</div>");h.append("<div class='config-value'>"+b._getConfigValue(c)+"</div>");
h.append("</div>");h.append("<div class='config-padding'></div>");}}return h.toString();},_getConfigValue:function(a){var d=new StringBuffer();if(a.dataType=="boolean"){var b=Math.random();
d.append("<div class='radio radio-success radio-inline'>");d.append("<input name='change-value"+b+"' id='"+b+"1' type='radio' value='y' "+((a.value=="y")?"checked":"")+">");
d.append("<label  for='"+b+"1'>是</label></div>");d.append("<div class='radio radio-success radio-inline'>");d.append("<input name='change-value"+b+"' id='"+b+"2' type='radio' value='n'"+((a.value=="n")?"checked":"")+">");
d.append("<label for='"+b+"2'>否</label></div>");}else{if(a.dataType=="string"||a.dataType=="integer"||a.dataType=="decimal"||a.dataType=="json"){d.append("<input  class='config-input'  type='text' value='"+a.value+"'>");
}else{if(a.dataType=="selectString"){var c=JSON.parse(a.selectValue);var b=Math.random();for(key in c){d.append("<div class='radio radio-success radio-inline'>");
d.append("<input name='change-value"+b+"' id='"+b+key+"' type='radio' value='"+key+"' "+((a.value==key)?"checked":"")+">");d.append("<label for='"+b+key+"'>"+c[key]+"</label></div>");
}}else{if(a.dataType=="date"){d.append("<input class='laydate-icon form-control layer-date config-date'  value='"+a.value+"' autocomplete='off'>");}else{if(a.dataType=="datetime"){d.append("<input class='laydate-icon form-control layer-date config-date long'   value='"+a.value+"' autocomplete='off'>");
}else{if(a.dataType=="color"){d.append('<input  class="config-picker" value="'+a.value+'" type="text"  style="border-right: 50px solid '+a.value+'" autocomplete="off">');
}}}}}}return d.toString();},_createPanel:function(d,c,a,e){var b=this;var f=new StringBuffer();f.append('<div class="panel panel-default">');f.append('<div class="panel-heading config-panel">');
f.append("<div class='row'>");f.append("<div class='col-sm-12'>");f.append("<strong>");f.append(c);f.append("</strong>");if(ResUtils.canShow("config.button.add")){f.append('<button type="button" title="添加参数"  cateId="'+e+'" class="jt-btn add-config pull-right"><i class="fa fa-plus">添加</i></button>');
}f.append("</div>");f.append("</div>");f.append("</div>");f.append('<div class="panel-body">');f.append(b._createConfigList(a,c,e));f.append("</div>");
f.append("</div>");return f.toString();},_createDialogHtml:function(a){var b=new StringBuffer();b.append("<div class='wrapper'>");b.append("<div class='form_wrapper'>");
b.append("<div class='col-sm-12'>");b.append("<form id='configForm2' class='form-horizontal configForm2'>");b.append("<div class='form-group'>");b.append("<label class='col-sm-2 control-label'>名称<span style='color: red;'>*</span></label>");
b.append("<div class='col-sm-10'>");b.append("<input validateType='default' type='text' name='name' value='' + data.name + '' placeholder='' class='form-control' autocomplete='off'>");
b.append("</div>");b.append("</div>");b.append("<div class='form-group'>");b.append("<label class='col-sm-2 control-label'>业务健<span style='color: red;'>*</span></label>");
b.append("<div class='col-sm-10'>");b.append("<input validateType='default' type='text' name='key' placeholder='' class='form-control' autocomplete='off'>");
b.append("</div>");b.append(" </div>");b.append("<div class='form-group'>");b.append("<label class='col-sm-2 control-label'>数据类型</label>");b.append("<div class='col-sm-10'>");
b.append("<select validateType='default' name='dataType' class='form-control' value='"+a.dataType+"'>");b.append("<option value='string' selected='selected'>字符串</option>");
b.append("<option value='boolean'>布尔</option>");b.append("<option value='integer'>整数</option>");b.append("<option value='decimal'>浮点数</option>");b.append("<option value='date'>短日期（yyyy-MM-dd）</option>");
b.append("<option value='datetime'>长日期（yyyy-MM-dd HH:mm:ss）</option>");b.append('<option value="selectString">选择(选项值格式：{"key1":"value1","key2":"value2"})</option>');
b.append("</select>");b.append("</div>");b.append("</div>");b.append("<div class='form-group' id='selectValueContainer' style='display:none;'>");b.append("<label class='col-sm-2 control-label'>选项值</label>");
b.append("<div class='col-sm-10' >");b.append("<input type='text' name='selectValue' value='"+a.selectvalue+"' class='form-control' autocomplete='off'>");
b.append("</div>");b.append("</div>");b.append("<div class='form-group'>");b.append("<label class='col-sm-2 control-label'>值</label>");b.append("<div class='col-sm-10' id='valueContainer'>");
b.append("<input type='text' name='value' value='"+a.value+"' class='form-control' autocomplete='off'>");b.append("</div>");b.append("</div>");b.append("<div class='form-group'>");
b.append("<label class='col-sm-2 control-label'>默认值</label>");b.append("<div class='col-sm-10' id='defaultValueContainer'>");b.append("<input type='text' name='defaultValue' value='"+a.defaultValue+"' class='form-control' autocomplete='off'>");
b.append("</div>");b.append("</div>");b.append("<div class='form-group' style='display:none;'>");b.append("<input name='id' type='hidden' value='"+a.id+"'>");
b.append("<input name='cateId' type='hidden' value='"+a.cateId+"'>");b.append("<input name='createTime' type='hidden'  value='"+a.createTime+"'>");b.append("</div>");
b.append("</form>");b.append("</div>");b.append("</div>");b.append("</div>");return b.toString();},_getDataTypeName:function(a){switch(a){case"string":return"字符串";
case"integer":return"整数";case"decimal":return"浮点数";case"date":return"短日期";case"datetime":return"长日期";case"boolean":return"布尔值";case"selectString":return"选择";
default:return"字符串";}},isJSON:function(c){if(typeof c=="string"){try{var b=JSON.parse(c);if(typeof b=="object"&&b){return true;}else{return false;}}catch(a){console.log("error："+c+"!!!"+a);
return false;}}console.log("It is not a string!");}};