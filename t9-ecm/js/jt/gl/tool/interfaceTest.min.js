$(function(){var a=new InterfaceTest();a.init();});function InterfaceTest(){this.hadInit=false;}InterfaceTest._CONS_={};InterfaceTest.prototype={init:function(){var a=this;
if(!a.hadInit){a.hadInit=true;a._bindEventHander();a._bindFormValidation();}},_bindEventHander:function(){var a=this;$(document).on("click",".sendSever",function(){a._save();
});$(document).on("click",".reSetForm",function(){$("input[name='requestMethod'][value='POST']").prop("checked",true);FormUtils.clear("interfaceForm");
$("#serverTime").val("-");$("#clientTime").val("-");});},_bindFormValidation:function(){var a={rules:{serverUrl:{required:true,},},};FormUtils.bindFormValidation("interfaceForm",a);
},_save:function(){if($("#interfaceForm").valid()){var d=new Date().getTime();var c=$("#interfaceForm").serialize();var b=$("input[name=reqMethod]").val();
var a=$("input[name=serverUrl]").val();var e=$("input[name=params]").val();FormUtils.submit(ctx+"/gl/tool/interfaceTest/severTest.htm",c,function(g){ButtonUtils.enableBtn("sendSever");
if(g.success){var f=new Date().getTime();$("#resContent").val(JSON.parse(g.msg).result);DialogUtils.success(msgCode.SUCCESS,"请求成功");}else{DialogUtils.error(msgCode.ERROR,"请求失败");
}$("#clientTime").html(f-d);$("#serverTime").html(JSON.parse(g.msg).reqTime);},function(){ButtonUtils.enableBtn("sendSever");DialogUtils.error(msgCode.ERROR,msgCode.ERROR_MSG);
});}}};