function Rate(){this.hadInit=false;this.params=null;}Rate._CONS_={LIST_RATE_DATA:ctx+"/gl/ou/employeeRate/listData.htm",DELETE_RATE:ctx+"/gl/ou/employeeRate/delete.htm",ADD_RATE:ctx+"/gl/ou/employeeRate/saveAdd.htm",SAVE_EDIT_RATE:ctx+"/gl/ou/employeeRate/saveEdit.htm",DETAIL_RATE:ctx+"/gl/ou/employeeRate/detail.htm",EDIT_RATE:ctx+"/gl/ou/employeeRate/edit.htm",SAVE_RATE:ctx+"/gl/ou/employeeRate/addOrUpdateRate.htm",};
Rate.prototype={init:function(b){var a=this;a.params=b;if(!a.hadInit){a.hadInit=true;a._hideNotGrantBtn();a._bindEventHander();a._bindFromValidation();
}a._initDataList(b);},_initDataList:function(b){var a=this;FormUtils.submit(Rate._CONS_.LIST_RATE_DATA,b,function(e){var f=new StringBuffer();var d=e.rows;
if(d&&d.length>0){for(var c=0;c<d.length;c++){f.append(a._createTr(d[c]));}}$(".data-table tbody").empty().append(f.toString());});},_generateCode:function(){var a=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1);
};return(a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a());},_createTr:function(e){var b=this;var f=new StringBuffer();f.append("<tr>");f.append('<td width="120">');
var c=new StringBuffer();var d=b._generateCode();c.append('<div class="input-group" style="width:100%;">');c.append('<input name="money-'+d+'" required digits min="0" type="text" class="form-control money" placeholder="请输入业绩金额" validateType="default" value="'+e.money+'" >');
c.append("</div>");f.append(c.toString());f.append("</td>");f.append('<td width="120">');var a=new StringBuffer();a.append('<div class="input-group">');
a.append('<input name="rate-'+d+'"  required number min="0" max="100" placeholder="请输入0-100的提成比率" validateType="default" type="text" class="form-control rate" value="'+e.rate+'" >');
a.append('<span class="input-group-addon">%</span>');a.append("</div>");f.append(a.toString());f.append("</td>");f.append('<td width="40">');f.append('<button type="button" class="add btn btn-sm btn-primary addRateRow"><i class="fa fa-plus"></i></button>');
f.append("&nbsp;");f.append('<button type="button" class="deleteRow btn btn-sm btn-danger"><i class="fa fa-minus"></i></button>');f.append("</td>");f.append("</tr>");
return f.toString();},_hideNotGrantBtn:function(){},_bindEventHander:function(){var a=this;$("body").on("click",".deleteRow",function(){var b=$(this).parents("tr");
b.remove();});$("body").on("click",".addRateRow",function(){$(".groupRatePanel tbody").append("");var c={money:"",rate:""};var b=a._createTr(c);$(".groupRatePanel tbody").append(b);
});},_bindFromValidation:function(){FormUtils.bindFormValidation("orgRateForm",null,null);},};