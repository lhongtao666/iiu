function TeamPkEmp(){this.hadInit=false;this.isEdit=false;this.teamPkEmpRowid=0;}TeamPkEmp._CONS_={GRID:"#teamPkEmpGrid",GRID_ID:"teamPkEmpGrid",PAGER:"#teamPkEmpPager",PAGER_ID:"teamPkEmpPager",JSON_ID:"teamPkEmpJSON",};
TeamPkEmp.prototype={init:function(b){var a=this;if(!a.hadInit){a.hadInit=true;a._bindEventHander();a._initJqgrid(b);}},_bindEventHander:function(){var a=this;
},_initJqgrid:function(b){var a=this;$.jgrid.defaults.styleUI="Bootstrap";$(TeamPkEmp._CONS_.GRID).jqGrid({datatype:"json",url:ctx+"/ou/team/teamPk/teamPkEmpListData.htm",height:350,autowidth:true,shrinkToFit:true,rowNum:20,mtype:"POST",viewrecords:true,multiselect:true,rowList:[10,20,30],colNames:["团队 ID","员工 ID","创建时间","更新时间","操作"],colModel:[{name:"teamId",editable:true,width:120},{name:"empId",editable:true,width:120},{name:"createTime",editable:true,hidedlg:true,hidden:true,width:120},{name:"updateTime",editable:true,hidedlg:true,hidden:true,width:120},{name:"button",width:120}],pager:TeamPkEmp._CONS_.PAGER,hidegrid:false,gridComplete:function(){JTSubGridUtils.addRowButtons(TeamPkEmp._CONS_.GRID_ID);
}});$(TeamPkEmp._CONS_.GRID).jqGrid("navGrid",TeamPkEmp._CONS_.PAGER,{add:true,addtitle:"添加",addfunc:a.addTeamPkEmpRow,del:true,deltitle:"删除",delfunc:a.delTeamPkEmp,refresh:false,search:false,edit:false});
},addTeamPkEmpRow:function(){var a=new Date().getTime();JTSubGridUtils.addRow(TeamPkEmp._CONS_.GRID_ID,"tmpteamPkEmp"+a);},delTeamPkEmp:function(a){showConfirm(function(){JTSubGridUtils.delRows(TeamPkEmp._CONS_.GRID_ID,a);
});},teamPkEmpGridData2Json:function(){var e=$(TeamPkEmp._CONS_.GRID);var a=new StringBuffer();a.append("[");var c=e.jqGrid("getDataIDs");for(var b=0;b<c.length;
b++){var d=e.jqGrid("getRowData",c[b]);if(d["isGridRowEdit"]=="Y"){alert("有参数尚未保存，请选择保存或者取消变更!");getElementById(c[b]).focus();return false;}a.append("{");
a.append("'teamId':'").append(d["teamId"]).append("',");a.append("'empId':'").append(d["empId"]).append("',");a.append("'createTime':'").append(d["createTime"]).append("',");
a.append("'updateTime':'").append(d["updateTime"]).append("',");if(!c[b].startsWith("tmpteamPkEmp")){a.append("'id':'").append(c[b]).append("'");}a.append("},");
}var f=""+a;if(c.length>0){f=f.substring(0,f.length-1);}f=f+"]";$("#"+TeamPkEmp._CONS_.JSON_ID).val(f);return true;},validateTeamPkEmpGrid:function(b,a){var c=$("#teamPkEmpForm").validate();
return true;},reloadJqgrid:function(b){var a=this;$(TeamPkEmp._CONS_.GRID).jqGrid("setGridParam",{postData:b}).trigger("reloadGrid");},};