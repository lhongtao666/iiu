function RoleComparedDetail(){this.hadInit=false;this.isEdit=false;}RoleComparedDetail.prototype={init:function(){this._openLayer();this._bindEventHander();
},_openLayer:function(){var b=$(window).width();var c=["90%","90%"];if(b<1024){c=["450px","230px"];}var a=this;layer.open({type:1,title:"角色对比",maxmin:false,shadeClose:false,btn:["关闭"],area:c,content:$("#roleComparedDetailContainer"),success:function(d,e){a._loadRoleData();
},cancel:function(){}});},_loadRoleData:function(){var a=this;FormUtils.loadData(ctx+"/crm/ou/role/listAllRole.htm",function(c){if(c.success){var b=JSON.parse(c.msg);
a._setRoleOpt(b);}else{DialogUtils.error("错误",c.msg);}});},_setRoleOpt:function(b){var c=new StringBuffer();c.append("<option selected='selected' value='null'>请选择</option>");
if(b.length>0){for(var a=0;a<b.length;a++){c.append("<option value='").append(b[a].value).append("' ");c.append(">").append(b[a].name).append("</option>");
}}$(".roleSelected").empty().append(c.toString());$(".roleSelected").chosen("destroy");$(".roleSelected").chosen();},_bindEventHander:function(){var a=this;
$(document).on("click","#beginCompareBtn",function(){var c=$("#roleOne").val();var b=$("#roleTwo").val();FormUtils.loadData(ctx+"/gl/auth/res/listEffectiveRoleResCompareTree.htm?roleOneId="+c+"&roleTwoId="+b,function(f){if(f){var e=f.commonResList;
var d=f.specificResOfRole1;var g=f.specificResOfRole2;$("#aaa").empty().append(ResUtils.createResTableStr(e));$("#bbb").empty().append(ResUtils.createResTableStr(d));
$("#ccc").empty().append(ResUtils.createResTableStr(g));}});});},};