function EditBatch(a){this.hadInit=false;this.params=null;}EditBatch._CONS_={LIST_ROLE_DATA_URL:ctx+"/crm/ou/role/listRoleData.htm",};EditBatch.prototype={init:function(b){var a=this;
if(!this.hadInit){this.hadInit=true;this._bindEventHander();this._loadRoleData("roleSelect");}},_bindEventHander:function(){var a=this;$("#orgName").on("click",function(){var b={selectedGroupId:$("input[name=groupId]").val(),container:"orgName",positionType:"all",isReDisabled:true,fn:function(c){$('input[name="groupId"]').val(c);
},dataFilter:function(f,c,g){if(g&&g.length){for(var e=0;e<g.length;e++){var d=g[e];if(d.isAgent=="y"&&!d.agentId){d.chkDisabled=true;}}}return g;}};GroupUtils.selectGroupTreeBox(b);
});$("#positionBatchName").on("click",function(){GroupUtils.selectGroupTreeBox({selectedGroupId:$('input[name="positionBatch"]').val(),container:"positionBatchName",isMultiple:1,hideSale:true,isReDisabled:true,positionType:"all",fn:function(b){$('input[name="positionBatch"]').val(b);
},dataFilter:function(e,b,f){if(f&&f.length){for(var d=0;d<f.length;d++){var c=f[d];if(c.isAgent=="y"&&!c.agentId){c.chkDisabled=true;}}}return f;}});});
},_resetRoleChosen:function(d,a){var e=new StringBuffer();if(d.length>0){for(var c=0;c<d.length;c++){if(d[c].selected==true){e.append("<option value='").append(d[c].value).append("' selected='selected'>").append(d[c].name).append("</option>");
}else{e.append("<option value='").append(d[c].value).append("' ");for(var b=0;b<a.length;b++){if(d[c].value==a[b]){e.append("selected='selected' ");break;
}}e.append(">").append(d[c].name).append("</option>");}}}$("#roleSelect").empty().append(e.toString());$("#roleSelect").chosen("destroy");$("#roleSelect").chosen();
},_loadRoleData:function(c,b){var a=this;FormUtils.loadData(EditBatch._CONS_.LIST_ROLE_DATA_URL+"?id="+b,function(e){if(e.success){var d=JSON.parse(e.msg);
a._resetRoleChosen(d,[]);}else{DialogUtils.error("错误",e.msg);}});},};