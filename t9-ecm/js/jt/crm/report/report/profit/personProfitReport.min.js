$(function(){var a=new PersonProfitReport();a.init();});function PersonProfitReport(){this.hadInit=false;this.isEdit=false;this.beginDate=beginDate;this.endDate=endDate;
}PersonProfitReport._CONS_={LIST_DATA_URL:ctx+"/ec/rp/reportProfit/listData.htm",};PersonProfitReport.prototype={init:function(a){if(!this.hadInit){this.hadInit=true;
this._bindEventHander();this._loadData();}},_bindEventHander:function(){var a=this;window.onmessage=function(f){var c=JSON.parse(f.data);if(c&&c.messageType=="reloadIframe"){var b=c.beginDate;
var d=c.endDate;a.beginDate=b;a.endDate=d;a._loadData();}};$(".showMoreInfo").on("click",function(){JTTabUtils.addOrRefreshTab(ctx+"/crm/report/performanceForMeReport/list.htm?reportKey=no","我的业绩统计");
});},_loadData:function(a){a+="&Q__S__EQ__employee_id_="+curUserId+"&Q__D__BW__create_time_ ="+this.beginDate+","+this.endDate;FormUtils.submit(PersonProfitReport._CONS_.LIST_DATA_URL,a,function(c){if(c.rows.length<=0){$("#personProfitReportContent #newCsCount").text(0);
$("#personProfitReportContent #auditCount").text(0);$("#personProfitReportContent #auditAmount").text(0);$("#personProfitReportContent #signCount").text(0);
$("#personProfitReportContent #signAmount").text(0);$("#personProfitReportContent #placeCount").text(0);$("#personProfitReportContent #placeAmount").text(0);
$("#personProfitReportContent #shipCount").text(0);$("#personProfitReportContent #shipAmount").text(0);$("#personProfitReportContent #rejectCount").text(0);
$("#personProfitReportContent #rejectAmount").text(0);}for(var b=0;b<c.rows.length;b++){if(c.rows[b]!=""||c.rows[b]!=null||c.rows[b]!=undefined){$("#personProfitReportContent #newCsCount").text(c.rows[b].newCsCount);
$("#personProfitReportContent #auditCount").text(c.rows[b].auditCount.toFixed(1));$("#personProfitReportContent #auditAmount").text(parseFloat(c.rows[b].auditAmount).toFixed(2));
$("#personProfitReportContent #signCount").text(c.rows[b].signCount.toFixed(1));$("#personProfitReportContent #signAmount").text(parseFloat(c.rows[b].signAmount).toFixed(2));
$("#personProfitReportContent #placeCount").text(c.rows[b].placeCount.toFixed(1));$("#personProfitReportContent #placeAmount").text(parseFloat(c.rows[b].placeAmount).toFixed(2));
$("#personProfitReportContent #shipCount").text(c.rows[b].shipCount.toFixed(1));$("#personProfitReportContent #shipAmount").text(parseFloat(c.rows[b].shipAmount).toFixed(2));
$("#personProfitReportContent #rejectCount").text(c.rows[b].rejectCount.toFixed(1));$("#personProfitReportContent #rejectAmount").text(parseFloat(c.rows[b].rejectAmount).toFixed(2));
}}});},};