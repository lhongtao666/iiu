$(function(){var a=new ProfitForAddrReport();a.init();});function ProfitForAddrReport(){this.hadInit=false;this.isEdit=false;this.sortColumn="";this.sortorder="";
this.beginDate=beginDate;this.endDate=endDate;}ProfitForAddrReport._CONS_={LIST_PIE_URL:ctx+"/ec/rp/reportProfit/listAddrPieData.htm",};ProfitForAddrReport.prototype={init:function(b){var a=this;
if(!a.hadInit){a.hadInit=true;a._bindEventHander();a._getData(a.toPostParam());}},_getData:function(a){var b=this;$.ajax({type:"GET",url:ProfitForAddrReport._CONS_.LIST_PIE_URL,data:a,contentType:"application/json",dataType:"json",success:function(c){b.createPieReport(c);
},error:function(c){DialogUtils.error(msgCode.ERROR,c);}});},createPieReport:function(b){var a=new Report();a.data=b;a.setLegend(true,null,"province");
a.initSeries([{type:"pie",colName:"newCsCount",legendName:"客户数"}],"province");a._initChart("profitForAddrReportChart","地区客户数分布图");},_bindEventHander:function(){var a=this;
$(".showMoreInfo").on("click",function(){JTTabUtils.addOrRefreshTab(ctx+"/crm/report/profitForAddrReport/list.htm?reportKey=no","地域业绩统计");});window.onmessage=function(f){var c=JSON.parse(f.data);
if(c&&c.messageType=="reloadIframe"){var b=c.beginDate;var d=c.endDate;a.beginDate=b;a.endDate=d;a._getData(a.toPostParam());}};},toPostParam:function(){var a={};
a["Q__D__BW__create_time_"]=this.beginDate+","+this.endDate;return a;}};