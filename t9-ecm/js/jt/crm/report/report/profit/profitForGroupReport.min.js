$(function(){var a=new ProfitForGroupReport();a.init();});function ProfitForGroupReport(){this.hadInit=false;this.isEdit=false;this.sortColumn="";this.sortorder="";
this.beginDate=beginDate;this.endDate=endDate;}ProfitForGroupReport._CONS_={LIST_DATA_URL:ctx+"/ec/rp/reportProfit/listGroupData.htm",};ProfitForGroupReport.prototype={init:function(b){var a=this;
if(!a.hadInit){a.hadInit=true;a._bindEventHander();$("#groupName").val("九天软件");var c="&Q__S__EQ__group_key_=1";a._loadData(c);}},_bindEventHander:function(){var a=this;
$("#groupName").on("click",function(){GroupUtils.selectGroupTreeBox({selectedGroupId:$('input[name="groupId"]').val(),container:"groupName",fn:function(b){$('input[name="groupId"]').val(b);
a._loadData();}});});window.onmessage=function(f){var c=JSON.parse(f.data);if(c&&c.messageType=="reloadIframe"){var b=c.beginDate;var d=c.endDate;a.beginDate=b;
a.endDate=d;a._loadData();}};$(".showMoreInfo").on("click",function(){JTTabUtils.addOrRefreshTab(ctx+"/crm/report/profitForGroupReport/list.htm?reportKey=no","部门业绩统计");
});},_loadData:function(a){a+="&Q__S__EQ__group_id_="+$('input[name="groupId"]').val()+"&Q__D__BW__create_time_ ="+this.beginDate+","+this.endDate;FormUtils.submit(ProfitForGroupReport._CONS_.LIST_DATA_URL,a,function(c){if(c.rows.length<=0){$("#profitForEmpReportContent #newCsCount").text(0);
$("#profitForEmpReportContent #auditCount").text(0);$("#profitForEmpReportContent #auditAmount").text(0);$("#profitForEmpReportContent #signCount").text(0);
$("#profitForEmpReportContent #signAmount").text(0);$("#profitForEmpReportContent #placeCount").text(0);$("#profitForEmpReportContent #placeAmount").text(0);
$("#profitForEmpReportContent #shipCount").text(0);$("#profitForEmpReportContent #shipAmount").text(0);$("#profitForEmpReportContent #rejectCount").text(0);
$("#profitForEmpReportContent #rejectAmount").text(0);}for(var b=0;b<c.rows.length;b++){if(c.rows[b]!=""||c.rows[b]!=null||c.rows[b]!=undefined){$("#profitForGroupReportContent #newCsCount").text(c.rows[b].newCsCount);
$("#profitForGroupReportContent #auditCount").text(c.rows[b].auditCount.toFixed(1));$("#profitForGroupReportContent #auditAmount").text(parseFloat(c.rows[b].auditAmount).toFixed(2));
$("#profitForGroupReportContent #signCount").text(c.rows[b].signCount.toFixed(1));$("#profitForGroupReportContent #signAmount").text(parseFloat(c.rows[b].signAmount).toFixed(2));
$("#profitForGroupReportContent #placeCount").text(c.rows[b].placeCount.toFixed(1));$("#profitForGroupReportContent #placeAmount").text(parseFloat(c.rows[b].placeAmount).toFixed(2));
$("#profitForGroupReportContent #shipCount").text(c.rows[b].shipCount.toFixed(1));$("#profitForGroupReportContent #shipAmount").text(parseFloat(c.rows[b].shipAmount).toFixed(2));
$("#profitForGroupReportContent #rejectCount").text(c.rows[b].rejectCount.toFixed(1));$("#profitForGroupReportContent #rejectAmount").text(parseFloat(c.rows[b].rejectAmount).toFixed(2));
}}});},};