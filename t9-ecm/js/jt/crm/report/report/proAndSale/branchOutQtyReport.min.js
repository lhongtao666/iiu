$(function(){var a=new BranchOutQty();a.init();});function BranchOutQty(){this.hadInit=false;this.isEdit=false;this.soTypeCatePos=null;this.type="pie";
this.beginDate=beginDate;this.endDate=endDate;}BranchOutQty._CONS_={LIST_URL:ctx+"/crm/report/stStockReport/listStockOutData.htm",};BranchOutQty.prototype={init:function(b){var a=this;
if(!a.hadInit){a.hadInit=true;a._bindEventHander();a._initJqgrid();}},_initJqgrid:function(){var b=$("input[name=groupId]").val();if(b){b=b;}var a=BranchOutQty._CONS_.LIST_URL+"?groupKey="+b+"&beginDate="+this.beginDate+"&endDate="+this.endDate;
FormUtils.loadData(a,function(d){var g=new StringBuffer();var c=d.rows;if(c.length<11){for(var e=0;e<c.length;e++){var f=c[e];g.append("<tr style='font-size:15px;'>").append("<td>").append(f.groupName).append("</td>").append("<td>").append(f.skuCode).append("</td>").append("<td>").append(f.prodName).append("</td>").append("<td>").append(f.outQty).append("</td>").append("</tr>");
}}else{for(var e=0;e<11;e++){var f=c[e];g.append("<tr style='font-size:15px;'>").append("<td>").append(f.groupName).append("</td>").append("<td>").append(f.skuCode).append("</td>").append("<td>").append(f.prodName).append("</td>").append("<td>").append(f.outQty).append("</td>").append("</tr>");
}}$("#branchOutQtyTbody").empty().append(g.toString());});},_bindEventHander:function(){var a=this;window.onmessage=function(f){var c=JSON.parse(f.data);
if(c&&c.messageType=="reloadIframe"){var b=c.beginDate;var d=c.endDate;a.beginDate=b;a.endDate=d;a._initJqgrid();}};$("#groupName").on("click",function(){var b={isMultiple:0,selectedGroupId:$("#groupId").val(),container:"groupName",nolimit:true,positionType:"statistics,dept_manager",fn:function(c,d){$("#groupId").val(d);
a._initJqgrid();}};GroupUtils.selectGroupTreeBox(b);});$(document).on("click",".chk",function(){var b=$("#groupId").val();a._initJqgrid(b);});$("body").on("click","#searchBtn",function(){a._initJqgrid();
return false;});$(".showMoreInfo").on("click",function(){JTTabUtils.addOrRefreshTab(ctx+"/crm/report/stockOutReportForGroup/list.htm?reportKey=no","产品库存报表");
});},};