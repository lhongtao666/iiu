$(function(){var a=new ProfitForEmpHistoryList();a.init();});function ProfitForEmpHistoryList(){this.hadInit=false;this.isEdit=false;this.sortColumn="";
this.sortorder="";}ProfitForEmpHistoryList._CONS_={LIST_DATA_URL:ctx+"/ec/rp/reportProfit/historyList.htm",GRID:"#profitForEmpHistoryGrid",PAGER:"#profitForEmpHistoryPager"};
ProfitForEmpHistoryList.prototype={init:function(b){var a=this;if(!a.hadInit){a.hadInit=true;a._bindEventHander();a._initJqgrid();}},_bindEventHander:function(){var a=this;
},_initJqgrid:function(){var b={};if(timeType=="oper"){b.Q__D__BW__oper_time_=DateUtils.getBeforeDate(30)+" 00:00:00,"+DateUtils.format(new Date(),DateUtils._CONS_.DEFAULT_DATE_PATTERN);
}else{b.Q__D__BW__place_time_=DateUtils.getBeforeDate(30)+" 00:00:00,"+DateUtils.format(new Date(),DateUtils._CONS_.DEFAULT_DATE_PATTERN);}if(type=="province"){b.Q__S__EQ__province_=param;
}else{if(type=="aid"){b.Q__S__EQ__aid_=param;}else{if(type=="city"){b.Q__S__EQ__city_=param;}else{if(type=="group"){b.Q__S__EQ__group_id_=param;}else{if(type=="groupPath"){b.Q__S__LK__group_path_=param;
}else{if(type=="interest"){b.interestsName=param;}else{if(type=="productName"){b.productName=param;}else{if(type=="entry"){b.Q__S__EQ__cs_entry_=param;
}}}}}}}}b.timeType=timeType;var a=this;$(ProfitForEmpHistoryList._CONS_.GRID).JTJqgrid({url:ProfitForEmpHistoryList._CONS_.LIST_DATA_URL,postData:b,multiselect:false,footerrow:true,rowNum:-1,colNames:["日期","下单","金额","下单/金额","审单","金额","审单/金额","发货","金额","发货/金额","签收","金额","签收/金额",],colModel:[{name:"startDate",width:40,sortable:false},{name:"placeCount",index:"place_count_",hidedlg:true,hidden:true},{name:"placeAmountHide",hidedlg:true,hidden:true,formatter:function(c,d,e){return e.placeAmount;
}},{name:"placeAmount",index:"place_amount_",sortable:false,width:70,formatter:function(c,d,e){return"<span style='color:red;'>"+e.placeCount+"</span>"+"/<span style='color:blue;'>"+parseFloat(e.placeAmount).toFixed(2)+"</span>";
}},{name:"auditCount",index:"audit_count_",hidedlg:true,hidden:true,},{name:"auditAmountHide",index:"audit_amount_",hidedlg:true,hidden:true,formatter:function(c,d,e){return e.auditAmount;
}},{name:"auditAmount",index:"audit_amount_",sortable:false,width:70,formatter:function(c,d,e){return"<span style='color:red;'>"+e.auditCount+"</span>"+"/<span style='color:blue;'>"+parseFloat(e.auditAmount).toFixed(2)+"</span>";
}},{name:"shipCount",index:"ship_count_",hidedlg:true,hidden:true,},{name:"shipAmountHide",index:"ship_amount_",hidedlg:true,hidden:true,formatter:function(c,d,e){return e.shipAmount;
}},{name:"shipAmount",index:"ship_amount_",sortable:false,width:70,formatter:function(c,d,e){return"<span style='color:red;'>"+e.shipCount+"</span>"+"/<span style='color:blue;'>"+parseFloat(e.shipAmount).toFixed(2)+"</span>";
}},{name:"signCount",index:"sign_count_",hidedlg:true,hidden:true,},{name:"signAmountHide",index:"sign_amount_",hidedlg:true,hidden:true,formatter:function(c,d,e){return e.signAmount;
}},{name:"signAmount",index:"sign_amount_",sortable:false,width:70,formatter:function(c,d,e){return"<span style='color:red;'>"+e.signCount+"</span>"+"/<span style='color:blue;'>"+parseFloat(e.signAmount).toFixed(2)+"</span>";
}},],gridComplete:function(){var i=$(ProfitForEmpHistoryList._CONS_.GRID).jqGrid("getCol","placeCount",true,"sum");var f=$(ProfitForEmpHistoryList._CONS_.GRID).jqGrid("getCol","placeAmountHide",true,"sum");
var d=$(ProfitForEmpHistoryList._CONS_.GRID).jqGrid("getCol","auditCount",true,"sum");var h=$(ProfitForEmpHistoryList._CONS_.GRID).jqGrid("getCol","auditAmountHide",true,"sum");
var e=$(ProfitForEmpHistoryList._CONS_.GRID).jqGrid("getCol","shipCount",true,"sum");var g=$(ProfitForEmpHistoryList._CONS_.GRID).jqGrid("getCol","shipAmountHide",true,"sum");
var c=$(ProfitForEmpHistoryList._CONS_.GRID).jqGrid("getCol","signCount",true,"sum");var j=$(ProfitForEmpHistoryList._CONS_.GRID).jqGrid("getCol","signAmountHide",true,"sum");
$(ProfitForEmpHistoryList._CONS_.GRID).footerData("set",{"startDate":"总计：","placeCount":i.toFixed(0),"placeAmount":f.toFixed(2),"auditCount":d.toFixed(0),"auditAmount":h.toFixed(2),"shipCount":e.toFixed(0),"shipAmount":g.toFixed(2),"signCount":c.toFixed(0),"signAmount":j.toFixed(2)});
},});}};