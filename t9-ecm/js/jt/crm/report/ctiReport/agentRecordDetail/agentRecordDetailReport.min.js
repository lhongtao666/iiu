$(function(){var a=new AgentRecordDetailReport();a.init();});function AgentRecordDetailReport(){this.hadInit=false;this.isEdit=false;}AgentRecordDetailReport._CONS_={LIST_DATA_URL:ctx+"/crm/report/AgentRecordDetailReport/listData.htm",GRID:"#agentRecordDetailReportGrid",PAGER:"#agentRecordDetailReportPager",};
AgentRecordDetailReport.prototype={init:function(a){if(!this.hadInit){this.hadInit=true;this._bindEventHander();this._initJqgrid();}},_bindEventHander:function(){var a=this;
$(document).on("click","#searchBtn",function(){var b={startTime:$("input[name='startTime']").val(),endTime:$("input[name='endTime']").val(),};a._reloadJqgird(b);
});},_reloadJqgird:function(a){JTJqgridUtils.reloadJqgrid(AgentRecordDetailReport._CONS_.GRID,a);},_initJqgrid:function(){var b=new Date().currentDate()+" 00:00:00";
var a=new Date().currentDate()+" 23:59:59";$("input[name=startTime]").val(b);$("input[name=endTime]").val(a);var c={startTime:b,endTime:a};$(AgentRecordDetailReport._CONS_.GRID).JTJqgrid({url:AgentRecordDetailReport._CONS_.LIST_DATA_URL,pager:AgentRecordDetailReport._CONS_.PAGER,postData:c,multiselect:false,colNames:["开始时间","结束时间","坐席姓名","坐席工号","状态","状态时长","操作类型","操作工号",],colModel:[{name:"occurtime",index:"occurtime",width:80},{name:"endTime",index:"endTime",width:80},{name:"empName",index:"empName",width:80},{name:"agentid",index:"agentid",width:80},{name:"status",index:"status",width:80,formatter:function(e,f,g){var d="<b style='color:green'>空闲</b>";
if(e=="AS_INIT"){d="<b style='color:blue;'>初始状态</b>";}else{if(e=="AS_WORK"){d="<b style='color:green'>工作</b>";}else{if(e=="AS_LEFT"){d="<b style='color:red;'>示忙</b>";
}}}return d;}},{name:"actduration",index:"actduration",width:80,formatter:function(d,e,f){return DateUtils.toChineseTime(d);}},{name:"agtaction",index:"agtaction",width:80,formatter:function(d,e,g){var f="<b style='color:green'>示闲</b>";
if(d=="LOGIN"){f="<b style='color:blue;'>登录</b>";}else{if(d=="SETWORK"){f="<b style='color:green'>工作</b>";}else{if(d=="AS_LEFT"){f="<b style='color:red;'>示忙</b>";
}else{if(d=="LOGOUT"){f="<b style='color:red;'>登出</b>";}}}}return f;}},{modelName:"agentid",name:"agentid",index:"agentid",width:80},],loadComplete:function(){$(window).resize();
},gridComplete:function(){$(window).resize();},});}};