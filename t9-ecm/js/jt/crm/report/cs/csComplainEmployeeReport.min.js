$(function(){var a=new CsComplainEmployeeReport();a.init();});function CsComplainEmployeeReport(){this.hadInit=false;}CsComplainEmployeeReport._CONS_={LIST_DATA_URL:ctx+"/crm/report/csReport/getComplainEmployeeReport.htm",GRID:"#complainAboutEmployeeListGrid",PAGER:"#complainAboutEmployeeListPager",};
CsComplainEmployeeReport.prototype={init:function(b){var a=this;if(!a.hadInit){ReportDateUtil.initDate(".report-content");$("select[name=yearSearch]").val(new Date().getFullYear());
$("select[name=monthSearch]").val(new Date().getMonth()+1);a.hadInit=true;a._bindEventHander();var b=a._handleParams();a._initJqgrid(b);}},_bindEventHander:function(){var a=this;
$("#complainTypeSearchForm").on("click",".findByCondition",function(){var b=a._handleParams();a.reloadJqgrid(b);});},reloadJqgrid:function(a){JTJqgridUtils.reloadJqgrid(CsComplainEmployeeReport._CONS_.GRID,a);
},_initJqgrid:function(b){var a=this;$(CsComplainEmployeeReport._CONS_.GRID).JTJqgrid({url:CsComplainEmployeeReport._CONS_.LIST_DATA_URL,postData:b,multiselect:false,colNames:["员工","投诉总数","完成数量","完成率","及时完成数量","及时完成率","全额退款","部分退款","退货","换货"],colModel:[{name:"employeeName",index:"employeeName_",width:200,sortable:false,formatter:function(c,d,g){var f=g.employeeName;
var e=g.employeeAid;return f+":"+e;}},{name:"complainNumber",width:120,index:"complainNumber_",sortable:false},{name:"completeNumber",width:120,index:"completeNumber_",sortable:false},{name:"completeRate",width:120,index:"completeRate_",sortable:false},{name:"timelyCompleteNumber",width:180,index:"timelyCompleteNumber_",sortable:false},{name:"timelyCompleteRate",index:"timelyCompleteRate_",width:140},{name:"fullRefund",index:"fullRefund_",width:100},{name:"fundPart",index:"fundPart_",width:100},{name:"refund",index:"refund_",width:80},{name:"barter",index:"barter_",width:80},],pager:CsComplainEmployeeReport._CONS_.PAGER});
},_handleParams:function(d){if(d==null||typeof d==undefined){d={};}var c=$("#yearSearch").val();var a=$("#monthSearch").val();if(a.length==1){a="0"+a;}var b=c+"-"+a;
d.createTimeYm=b;return d;}};