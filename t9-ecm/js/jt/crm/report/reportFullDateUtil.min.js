var ReportDateUtil={initDate:function(f,e){e=e||$(document);var a=new Date();var c=a.getFullYear();var d=new StringBuffer();for(var b=2010;b<=c;b++){d.append("<option value='").append(b).append("' >").append(b).append("å¹´</option>");
}e.find("select[name=yearSearch]").append(d.toString());this._bindEventHander(f,e);},_bindEventHander:function(b,a){a=a||$(document);a.find(b).off("change","#timeTypeSearch");
a.find(b).on("change","#timeTypeSearch",function(){var d=new Date();a.find("select[name=yearSearch]").val(d.getFullYear());if(a.find(this).val()=="day"){a.find(".yearElement").hide();
a.find(".quarterElement").hide();a.find(".monthElement").hide();a.find(".dayElement").show();a.find(".dayElementBtn").show();a.find(".weekElement").hide();
a.find("input[id=endDate]").val(d.getFullYear()+"-"+(d.getMonth()+1)+"-"+(d.getDate()+1)+" 00:00:00");a.find("input[id=beginDate]").val(d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate()+" 00:00:00");
}else{if(a.find(this).val()=="month"){a.find(".yearElement").show();a.find(".quarterElement").hide();a.find(".monthElement").show();a.find(".dayElement").hide();
a.find(".dayElementBtn").hide();a.find(".weekElement").hide();a.find("select[name=monthSearch]").val(d.getMonth()+1);}else{if(a.find(this).val()=="quarter"){a.find(".yearElement").show();
a.find(".quarterElement").show();a.find(".monthElement").hide();a.find(".dayElement").hide();a.find(".dayElementBtn").hide();a.find(".weekElement").hide();
a.find("select[name=quarterSearch]").val(parseInt((d.getMonth()+1)/3)+((d.getMonth()+1)%3>0?1:0));}else{if(a.find(this).val()=="year"){a.find(".yearElement").show();
a.find(".quarterElement").hide();a.find(".monthElement").hide();a.find(".dayElement").hide();a.find(".dayElementBtn").hide();a.find(".weekElement").hide();
}else{if(a.find(this).val()=="week"){a.find(".yearElement").hide();a.find(".quarterElement").hide();a.find(".monthElement").hide();a.find(".dayElement").show();
a.find(".dayElementBtn").hide();a.find(".weekElement").show();var e=d.getTime();var c=new Date(e-7*24*3600*1000);a.find("input[id=beginDate]").val(c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate());
a.find("input[id=endDate]").val(d.getFullYear()+"-"+(d.getMonth()+1)+"-"+(d.getDate()+1));}}}}}});a.find(b).off("click","#prevBtn");a.find(b).on("click","#prevBtn",function(){var c=new Date(a.find("input[id=beginDate]").val());
var d=new Date(a.find("input[id=endDate]").val());c.setDate(c.getDate()-1);d.setDate(d.getDate()-1);a.find("input[id=beginDate]").val(c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate()+" 00:00:00");
a.find("input[id=endDate]").val(d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate()+" 00:00:00");});a.find(b).off("click","#nextBtn");a.find(b).on("click","#nextBtn",function(){var c=new Date(a.find("input[id=beginDate]").val());
var d=new Date(a.find("input[id=endDate]").val());c.setDate(c.getDate()+1);d.setDate(d.getDate()+1);a.find("input[id=beginDate]").val(c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate()+" 00:00:00");
a.find("input[id=endDate]").val(d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate()+" 00:00:00");});a.find(b).off("click","#prevWeekBtn");a.find(b).on("click","#prevWeekBtn",function(){var c=new Date(a.find("input[id=beginDate]").val());
var d=new Date(a.find("input[id=endDate]").val());c.setDate(c.getDate()-7);d.setDate(d.getDate()-7);a.find("input[id=beginDate]").val(c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate());
a.find("input[id=endDate]").val(d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate());});a.find(b).off("click","#nextWeekBtn");a.find(b).on("click","#nextWeekBtn",function(){var c=new Date(a.find("input[id=beginDate]").val());
var d=new Date(a.find("input[id=endDate]").val());c.setDate(c.getDate()+7);d.setDate(d.getDate()+7);a.find("input[id=beginDate]").val(c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate());
a.find("input[id=endDate]").val(d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate());});},getDateTimeRangeStr:function(b){b=b||$(document);var a=new StringBuffer();
if(b.find("#timeTypeSearch").val()=="day"){if(b.find("#beginDate").val()!=""){a.append(b.find("#beginDate").val()).append(",");}else{a.append(",");}if(b.find("#endDate").val()!=""){a.append(b.find("#endDate").val());
}}else{if(b.find("#timeTypeSearch").val()=="week"){if(b.find("#beginDate").val()!=""){a.append(b.find("#beginDate").val()).append(" 00:00:00,");}else{a.append(",");
}if(b.find("#endDate").val()!=""){a.append(b.find("#endDate").val()).append(" 00:00:00");}}else{if(b.find("#timeTypeSearch").val()=="month"){a.append(DateUtils.format(DateUtils.getMonthFirst(b.find("#yearSearch").val(),b.find("#monthSearch").val()),DateUtils._CONS_.DEFAULT_DATE_TIME_PATTERN)).append(",").append(DateUtils.format(new Date(b.find("#yearSearch").val(),b.find("#monthSearch").val(),1,0,0,0),DateUtils._CONS_.DEFAULT_DATE_TIME_PATTERN));
}else{if(b.find("#timeTypeSearch").val()=="quarter"){a.append(DateUtils.format(DateUtils.getQuarterFirst(b.find("#yearSearch").val(),parseInt(b.find("#quarterSearch").val())),DateUtils._CONS_.DEFAULT_DATE_TIME_PATTERN)).append(",").append(DateUtils.format(new Date(b.find("#yearSearch").val(),DateUtils.getQuarterStartMonth(parseInt(b.find("#quarterSearch").val()))+2,1,0,0,0),DateUtils._CONS_.DEFAULT_DATE_TIME_PATTERN));
}else{if(b.find("#timeTypeSearch").val()=="year"){a.append(DateUtils.format(DateUtils.getYearFirst(b.find("#yearSearch").val()),DateUtils._CONS_.DEFAULT_DATE_TIME_PATTERN)).append(",").append(DateUtils.format(new Date(b.find("#yearSearch").val(),12,1,0,0,0),DateUtils._CONS_.DEFAULT_DATE_TIME_PATTERN));
}}}}}return a.toString();},getEndDateTimeRangeStr:function(b){b=b||$(document);var a=new StringBuffer();if(b.find("#timeTypeSearch").val()=="day"){if(b.find("#endDate").val()!=""){a.append(b.find("#endDate").val());
}}else{if(b.find("#timeTypeSearch").val()=="month"){a.append(DateUtils.format(DateUtils.getMonthLast(b.find("#yearSearch").val(),b.find("#monthSearch").val()),DateUtils._CONS_.DEFAULT_DATE_PATTERN));
}else{if(b.find("#timeTypeSearch").val()=="quarter"){a.append(DateUtils.format(DateUtils.getQuarterLast(b.find("#yearSearch").val(),parseInt(b.find("#quarterSearch").val())),DateUtils._CONS_.DEFAULT_DATE_PATTERN));
}else{if(b.find("#timeTypeSearch").val()=="year"){a.append(DateUtils.format(DateUtils.getYearLast(b.find("#yearSearch").val()),DateUtils._CONS_.DEFAULT_DATE_PATTERN));
}}}}return a.toString();},getStartDateTimeRangeStr:function(b){b=b||$(document);var a=new StringBuffer();if(b.find("#timeTypeSearch").val()=="day"){if(b.find("#beginDate").val()!=""){a.append(b.find("#beginDate").val());
}}else{if(b.find("#timeTypeSearch").val()=="month"){a.append(DateUtils.format(DateUtils.getMonthFirst(b.find("#yearSearch").val(),b.find("#monthSearch").val()),DateUtils._CONS_.DEFAULT_DATE_PATTERN));
}else{if(b.find("#timeTypeSearch").val()=="quarter"){a.append(DateUtils.format(DateUtils.getQuarterFirst(b.find("#yearSearch").val(),parseInt(b.find("#quarterSearch").val())),DateUtils._CONS_.DEFAULT_DATE_PATTERN));
}else{if(b.find("#timeTypeSearch").val()=="year"){a.append(DateUtils.format(DateUtils.getYearFirst(b.find("#yearSearch").val()),DateUtils._CONS_.DEFAULT_DATE_PATTERN));
}}}}return a.toString();},getDateRangeStr:function(c){c=c||$(document);var b=new StringBuffer();if(c.find("#timeTypeSearch").val()=="day"){if(c.find("#beginDate").val()!=""){var a=c.find("#beginDate").val();
b.append(a.substring(0,4));a=a.substring(5,a.length);if(a.indexOf("-")<2){b.append("0");}b.append(a.replaceAll("-",""));}b.append(",");if(c.find("#endDate").val()!=""){var a=c.find("#endDate").val();
b.append(a.substring(0,4));a=a.substring(5,a.length);if(a.indexOf("-")<2){b.append("0");}b.append(a.replaceAll("-",""));}}else{if(c.find("#timeTypeSearch").val()=="month"){var a=DateUtils.format(DateUtils.getMonthFirst(c.find("#yearSearch").val(),c.find("#monthSearch").val()),"yyyy-MM-dd");
b.append(a.substring(0,4));a=a.substring(5,a.length);if(a.indexOf("-")<2){b.append("0");}b.append(a.replaceAll("-","")).append(",");a=DateUtils.format(DateUtils.getMonthLast(c.find("#yearSearch").val(),c.find("#monthSearch").val()),"yyyy-MM-dd");
b.append(a.substring(0,4));a=a.substring(5,a.length);if(a.indexOf("-")<2){b.append("0");}b.append(a.replaceAll("-",""));}else{if(c.find("#timeTypeSearch").val()=="quarter"){var a=DateUtils.format(DateUtils.getQuarterFirst(c.find("#yearSearch").val(),parseInt(c.find("#quarterSearch").val())),"yyyy-MM-dd");
b.append(a.substring(0,4));a=a.substring(5,a.length);if(a.indexOf("-")<2){b.append("0");}b.append(a.replaceAll("-","")).append(",");a=DateUtils.format(DateUtils.getQuarterLast(c.find("#yearSearch").val(),parseInt(c.find("#quarterSearch").val())),"yyyy-MM-dd");
b.append(a.substring(0,4));a=a.substring(5,a.length);if(a.indexOf("-")<2){b.append("0");}b.append(a.replaceAll("-",""));}else{if(c.find("#timeTypeSearch").val()=="year"){var a=DateUtils.format(DateUtils.getYearFirst(c.find("#yearSearch").val()),"yyyy-MM-dd");
b.append(a.substring(0,4));a=a.substring(5,a.length);if(a.indexOf("-")<2){b.append("0");}b.append(a.replaceAll("-","")).append(",");a=DateUtils.format(DateUtils.getYearLast(c.find("#yearSearch").val()),"yyyy-MM-dd");
b.append(a.substring(0,4));a=a.substring(5,a.length);if(a.indexOf("-")<2){b.append("0");}b.append(a.replaceAll("-",""));}}}}return b.toString();}};