$(function(){var a=new WeiXinAreaHistory();a.init();});function WeiXinAreaHistory(){this.hadInit=false;}WeiXinAreaHistory._CONS_={LIST_URL:ctx+"/crm/report/weiXinFriendsReport/listAreaHistory.htm",GRID:"#weiXinAreaHistoryGrid",};
WeiXinAreaHistory.prototype={init:function(a){if(!this.hadInit){this.hadInit=true;this._initTable({beginTime:beginTime,endTime:endTime,groupId:groupId,province:province,city:city});
}},_initTable:function(b){var a=WeiXinAreaHistory._CONS_.LIST_URL;FormUtils.submit(a,b,function(g){if(g){var f=0;var k=new StringBuffer();for(var e=0;e<g.length;
e++){f+=g[e].weiXinFriendsReportPos.length;}for(var e=0;e<g.length;e++){var d=g[e];var h=g[e].weiXinFriendsReportPos;for(var c=0;c<h.length;c++){k.append("<tr>");
if(e==0&&c==0){k.append("<td rowspan='"+f+"'>").append(province+(city==""?"":","+city)).append("</td>");}if(c==0){k.append("<td rowspan='"+h.length+"'>").append(d.groupName).append("</td>");
}k.append("<td>").append(h[c].employeeName).append("</td>");k.append("<td>").append(h[c].count).append("</td>");k.append("<td>").append(h[c].csCount).append("</td>");
k.append("<td>").append(h[c].rate).append("</td>");k.append("</tr>");}}$("#weiXinAreaHistoryGrid").find("tbody").empty().append(k.toString());}});}};