$(function(){var a=new WeiXinFriendDeleteDetail();a.init();});function WeiXinFriendDeleteDetail(){this.hadInit=false;}WeiXinFriendDeleteDetail._CONS_={LIST_URL:ctx+"/crm/report/weiXinFriendDeleteReport/listDetailData.htm",GRID:"#weiXinFriendDeleteDetailGrid",};
WeiXinFriendDeleteDetail.prototype={init:function(b){var a=this;if(!a.hadInit){a.hadInit=true;var c={};if(friendForType=="group"){c={beginTime:beginTime,endTime:endTime,groupId:groupId};
}else{c={beginTime:beginTime,endTime:endTime,employeeUserName:employeeUserName};}this._initJqgrid(c);this._bindEventHander();}},_bindEventHander:function(){$(document).on("click",".show-android-detail",function(){var d=$(this).attr("data-username");
var c=$(this).attr("data-employee-alias");var a="";var e="";var b="";if(d==null||d==""||c==null||c==""){DialogUtils.error("错误","旧数据无法查看");return;}JTTabUtils.addOrRefreshTab(ctx+"/crm/cs/weiXinRecord/detailList.htm"+"?friendcode="+b+"&startDate="+a+"&endDate="+e+"&userName="+d+"&employeeAlias="+c,"消息明细");
});},_initJqgrid:function(a){$(WeiXinFriendDeleteDetail._CONS_.GRID).JTJqgrid({url:WeiXinFriendDeleteDetail._CONS_.LIST_URL,pager:"",postData:a,multiselect:false,footerrow:true,rowNum:-1,colNames:["部门","员工","员工微信昵称","被删好友","删除时间"],colModel:[{name:"groupName",width:120},{name:"employeeName",width:120},{name:"employeeNickName",width:120},{name:"nickName",width:120,formatter:function(b,c,d){return"<a  class='show-android-detail' data-username='"+d.userName+"' data-employee-alias='"+d.employeeAlias+"'>"+b+"</a>";
}},{name:"deleteTime",width:120}],});},reloadJqgrid:function(a){JTJqgridUtils.reloadJqgrid(WeiXinFriendDeleteDetail._CONS_.GRID,a);},};