$(function(){var a=new SmsForDayReport();a.init();});function SmsForDayReport(){this.hadInit=false;this.isEdit=false;this.baseUrl=ctx+"/crm/report/smsReport/smsForDayReport/listData.htm";
this.exportUrl=ctx+"/crm/report/smsReport/smsForDayReport/exportReport.htm";}SmsForDayReport.GRID="#smsForDayReportGrid";SmsForDayReport.prototype={init:function(b){var a=this;
if(!a.hadInit){a.hadInit=true;a._bindEventHander();a._initJqgrid();}},_getParam:function(){var a={};a["beginDate"]=dateVal;return a;},_bindEventHander:function(){var a=this;
$(".exportExcel").on("click",function(){var d=$("#exportType").val();var c=a.exportUrl;var e=a._getParam();FormUtils.submit(c,e,function(f){if(f.success){DialogUtils.success(msgCode.INFO,f.msg+"成功");
}else{DialogUtils.error(msgCode.FAIL_MSG,f.msg+"失败");}},function(){DialogUtils.error(msgCode.ERROR,msgCode.ERROR_MSG);});});function b(h,e){if(e=="first"){return h.getFullYear()+(h.getMonth()+1>9?"-"+(h.getMonth()+1):"-0"+(h.getMonth()+1))+"-01 00:00:00";
}else{if(e=="last"){var f=h.getMonth();var d=++f;var g=new Date(h.getFullYear(),d,1);var c=1000*60*60*24;h=new Date(g.getTime()-c);return h.getFullYear()+(h.getMonth()+1>9?"-"+(h.getMonth()+1):"-0"+(h.getMonth()+1))+(h.getDate()>9?"-"+h.getDate():"-0"+h.getDate())+" 23:59:59";
}else{return h.getFullYear()+(h.getMonth()+1>9?"-"+(h.getMonth()+1):"-0"+(h.getMonth()+1))+(h.getDate()>9?"-"+h.getDate():"-0"+h.getDate())+" 23:59:59";
}}}},reloadJqgrid:function(a){JTJqgridUtils.reloadJqgrid(SmsForDayReport.GRID,a);},_initJqgrid:function(a){if(a==null||typeof a==undefined){var a={};a["beginDate"]=dateVal;
}$(SmsForDayReport.GRID).JTJqgrid({url:this.baseUrl,postData:a,footerrow:true,shrinkToFit:false,autoScroll:true,multiselect:false,rowNum:-1,colNames:["部门","7点","8点","9点","10点","11点","12点","13点","14点","15点","16点","17点","18点","19点","20点","21点","22点","23点","小计"],colModel:[{name:"groupName"},{name:"time7Count"},{name:"time8Count"},{name:"time9Count"},{name:"time10Count"},{name:"time11Count"},{name:"time12Count"},{name:"time13Count"},{name:"time14Count"},{name:"time15Count"},{name:"time16Count"},{name:"time17Count"},{name:"time18Count"},{name:"time19Count"},{name:"time20Count"},{name:"time21Count"},{name:"time22Count"},{name:"time23Count"},{name:"total"}],gridComplete:function(){var n=$(SmsForDayReport.GRID).jqGrid("getCol","time7Count",true,"sum");
var l=$(SmsForDayReport.GRID).jqGrid("getCol","time8Count",true,"sum");var j=$(SmsForDayReport.GRID).jqGrid("getCol","time9Count",true,"sum");var s=$(SmsForDayReport.GRID).jqGrid("getCol","time10Count",true,"sum");
var r=$(SmsForDayReport.GRID).jqGrid("getCol","time11Count",true,"sum");var q=$(SmsForDayReport.GRID).jqGrid("getCol","time12Count",true,"sum");var p=$(SmsForDayReport.GRID).jqGrid("getCol","time13Count",true,"sum");
var o=$(SmsForDayReport.GRID).jqGrid("getCol","time14Count",true,"sum");var m=$(SmsForDayReport.GRID).jqGrid("getCol","time15Count",true,"sum");var k=$(SmsForDayReport.GRID).jqGrid("getCol","time16Count",true,"sum");
var i=$(SmsForDayReport.GRID).jqGrid("getCol","time17Count",true,"sum");var h=$(SmsForDayReport.GRID).jqGrid("getCol","time18Count",true,"sum");var g=$(SmsForDayReport.GRID).jqGrid("getCol","time19Count",true,"sum");
var e=$(SmsForDayReport.GRID).jqGrid("getCol","time20Count",true,"sum");var d=$(SmsForDayReport.GRID).jqGrid("getCol","time21Count",true,"sum");var c=$(SmsForDayReport.GRID).jqGrid("getCol","time22Count",true,"sum");
var b=$(SmsForDayReport.GRID).jqGrid("getCol","time23Count",true,"sum");var t=$(SmsForDayReport.GRID).jqGrid("getCol","total",true,"sum");$(SmsForDayReport.GRID).footerData("set",{"groupName":"合计(条)：<span style='color:red;'></span>","time7Count":"<span style='color:red;'>"+n+"</span>","time8Count":"<span style='color:red;'>"+l+"</span>","time9Count":"<span style='color:red;'>"+j+"</span>","time10Count":"<span style='color:red;'>"+s+"</span>","time11Count":"<span style='color:red;'>"+r+"</span>","time12Count":"<span style='color:red;'>"+q+"</span>","time13Count":"<span style='color:red;'>"+p+"</span>","time14Count":"<span style='color:red;'>"+o+"</span>","time15Count":"<span style='color:red;'>"+m+"</span>","time16Count":"<span style='color:red;'>"+k+"</span>","time17Count":"<span style='color:red;'>"+i+"</span>","time18Count":"<span style='color:red;'>"+h+"</span>","time19Count":"<span style='color:red;'>"+g+"</span>","time20Count":"<span style='color:red;'>"+e+"</span>","time21Count":"<span style='color:red;'>"+d+"</span>","time22Count":"<span style='color:red;'>"+c+"</span>","time23Count":"<span style='color:red;'>"+b+"</span>","total":"<span style='color:red;'>"+t+"</span>"});
var f=$(SmsForDayReport.GRID).parents(".jqGrid_wrapper").find(".ui-jqgrid-sdiv").find("tr.footrow");f.find("td").css({"font-weight":400});},});}};