function CsMailHistory(){this.hadInit=false;}CsMailHistory._CONS_={LIST_DATA_URL:ctx+"/gl/mail/mailQueue/getMailHistory.htm",};CsMailHistory.prototype={init:function(a){if(!this.hadInit){this.hadInit=true;
}this.initTable(a);},initTable:function(d){var a=this;var e=new StringBuffer();e.append("<div id='mailHistoryDiv'>");e.append("<table class='table table-striped table-bordered' id='mailHistoryTable'>");
e.append("<thead><tr>");e.append("<th>接收人邮箱</th>");e.append("<th>邮件标题</th>");e.append("<th>发送结果</th>");e.append("<th>发送人</th>");e.append("<th>发送时间</th>");
e.append("</tr></thead>");e.append("</table>");e.append("</div>");$("#mailHistoryDiv").empty().append(e.toString());var c=CsMailHistory._CONS_.LIST_DATA_URL;
var b=$("#id").val();c=c+"?csId="+d.csId;$("#mailHistoryTable").DataTable({ajax:{url:c},columns:[{data:"maskEmail",width:"15%"},{data:"title",width:"15%"},{data:"email",render:function(i,h,g){var f=g.status;
if(f=="success"){return"<label class='label label-primary'>发送成功</label>";}else{return"<label class='label label-info'>发送失败</label>";}},width:"15%"},{data:"addresser",width:"15%"},{data:"createTime",width:"15%"},],rowId:"id",lengthMenu:[[6,10],[6,10]],paging:false,bFilter:false,pagingType:"simple",lengthChange:false,autoWidth:false,ordering:false,});
}};