function ExchangeEntityExchangeing(){this.hadInit=false;this.isEdit=false;this.exchangeEntityBase=new ExchangeEntityBase();this.exchangeEntityBase.hadInit=true;
}ExchangeEntityExchangeing._CONS_={GRID:"#exchangeEntityExchangeingGrid",PAGER:"#exchangeEntityExchangeingPager"};ExchangeEntityExchangeing.prototype={init:function(b){var a={grid:ExchangeEntityExchangeing._CONS_.GRID,pager:ExchangeEntityExchangeing._CONS_.PAGER,gridRecordsSpan:"#exchangeEntityExchangeingGrid_record",listParams:"Q__S__EQ__entity.status_=exchange",widthElement:".wait_submit_wrapper",onSelectRow:this.onSelectRow,type:ExchangeEntityBase._CONS_.EXCHANGEING_TAB_TYPE};
if(!this.hadInit){this.hadInit=true;this._bindEventHander();this.exchangeEntityBase.init(a);}else{this.reloadJqgrid(b);}},_bindEventHander:function(){$(document).on("click","[name=financeType]",function(){});
},reloadJqgrid:function(b){var a={grid:ExchangeEntityExchangeing._CONS_.GRID,pager:ExchangeEntityExchangeing._CONS_.PAGER,searchParam:b};this.exchangeEntityBase.reloadJqgrid(a);
},onSelectRow:function(b,a){selectedId=$(ExchangeEntityExchangeing._CONS_.GRID).jqGrid("getGridParam","selarrrow");if(selectedId.length==1){if(ResUtils.canShow("exchangeEntity.button.exchangeingDetail")){ButtonUtils.enableBtn("exchangeingDetail");
}}else{ButtonUtils.disableBtn("exchangeingDetail");}},initBillForm:function(b){var a=this;$("#exchangeBillTabLi").removeAttr("style");$("#exchangeBillTabLi").show();
$("#exchangeBillForm").find("[name=exSno]").val(b.exSno);$("#exchangeBillForm").find("[name=exCount]").val(b.exCount);$("#exchangeBillForm").find("[name=financeType]").val(b.financeType);
$("#exchangeBillForm").find("[name=exAmount]").val(b.exAmount);if(b.financeBillPo){$("#exchangeBillForm").find("[id=financeBillDiv]").show();$("#exchangeBillForm").find("[name=payType]").val(b.financeBillPo.payType);
$("#exchangeBillForm").find("[name=receiptAccount]").val(b.financeBillPo.receiptAccount);$("#exchangeBillForm").find("[name=statusName]").val(b.financeBillPo.statusName);
}else{$("#exchangeBillForm").find("[id=financeBillDiv]").hide();}a.genAddrContainer(b.exSoInfoVo.soShipPos[0].partyAddrPo);},genAddrContainer:function(a){var b=new StringBuffer();
b.append("<li class='addrli' style='list-style-type:none;'>");b.append("<div class='contact-box-line' value='").append(a.id).append("'  style='padding: 10px; margin-bottom: 10px;margin-right:5px;'>");
b.append(" <h3 style='margin-bottom:5px;'><strong>").append(a.name).append("</strong><span  style='font-size: 13px;'>&nbsp;").append("</span></h3>").append("<p  style='margin-bottom:5px;'><i class='fa fa-map-marker'></i>").append(a.prName).append(a.ciName).append(a.arName).append(ResUtils.canShow("soEntity.button.viewAddrBtn")?a.addr:MaskPhoneNum.maskAddr(a.addr)).append("&nbsp;&nbsp;").append(a.zipcode).append("</p>").append("<address style='margin-bottom:5px;'><strong><abbr title='Phone'>手机号码:</abbr> (+86)").append(MaskPhoneNum.getMaskPhoneNum(a.mobile)).append("</strong></address>").append(" <b style='background: transparent url(\"").append(ctx).append("/img/jt/selected-icon.png\") no-repeat scroll 0% 0%;'></b><div class='clearfix'></div></div></li>");
$("#exchangeBillForm").find("[id=addrDiv]").empty().append(b.toString());},};