function ExchangeImg(){this.hadInit=false;this.isEdit=false;this.exchangeImgRowid=0;}ExchangeImg._CONS_={GRID:"#exchangeImgGrid",GRID_ID:"exchangeImgGrid",PAGER:"#exchangeImgPager",PAGER_ID:"exchangeImgPager",JSON_ID:"exchangeImgJSON",};
ExchangeImg.prototype={init:function(b){var a=this;if(!a.hadInit){a.hadInit=true;a._bindEventHander();a._initJqgrid(b);}},_bindEventHander:function(){var a=this;
},_initJqgrid:function(b){var a=this;$.jgrid.defaults.styleUI="Bootstrap";$(ExchangeImg._CONS_.GRID).jqGrid({datatype:"json",url:ctx+"/ec/ret/exchangeEntity/exchangeImgListData.htm",height:350,autowidth:true,shrinkToFit:true,rowNum:20,mtype:"POST",viewrecords:true,multiselect:true,rowList:[10,20,30],rownumbers:true,colNames:["所属换货单 ID","所属换货单日志 ID","图片路径","创建时间","操作"],colModel:[{name:"entityId",editable:true,width:120},{name:"logId",editable:true,width:120},{name:"path",editable:true,width:120},{name:"createTime",editable:true,hidedlg:true,hidden:true,width:120},{name:"button",width:120}],pager:ExchangeImg._CONS_.PAGER,hidegrid:false,gridComplete:function(){JTSubGridUtils.addRowButtons(ExchangeImg._CONS_.GRID_ID);
}});$(ExchangeImg._CONS_.GRID).jqGrid("navGrid",ExchangeImg._CONS_.PAGER,{add:true,addtitle:"添加",addfunc:a.addExchangeImgRow,del:true,deltitle:"删除",delfunc:a.delExchangeImg,refresh:false,search:false,edit:false});
},addExchangeImgRow:function(){var a=new Date().getTime();JTSubGridUtils.addRow(ExchangeImg._CONS_.GRID_ID,"tmpexchangeImg"+a);},delExchangeImg:function(a){DialogUtils.confirm(function(){JTSubGridUtils.delRows(ExchangeImg._CONS_.GRID_ID,a);
});},exchangeImgGridData2Json:function(){var c=$(ExchangeImg._CONS_.GRID);var a=new StringBuffer();a.append("[");var d=c.jqGrid("getDataIDs");for(var b=0;
b<d.length;b++){var e=c.jqGrid("getRowData",d[b]);if(e["isGridRowEdit"]=="Y"){alert("有参数尚未保存，请选择保存或者取消变更!");getElementById(d[b]).focus();return false;}a.append("{");
a.append("'entityId':'").append(e["entityId"]).append("',");a.append("'logId':'").append(e["logId"]).append("',");a.append("'path':'").append(e["path"]).append("',");
a.append("'createTime':'").append(e["createTime"]).append("',");if(!d[b].startsWith("tmpexchangeImg")){a.append("'id':'").append(d[b]).append("'");}a.append("},");
}var f=""+a;if(d.length>0){f=f.substring(0,f.length-1);}f=f+"]";$("#"+ExchangeImg._CONS_.JSON_ID).val(f);return true;},validateExchangeImgGrid:function(b,a){var c=$("#exchangeImgForm").validate();
return true;},reloadJqgrid:function(b){var a=this;$(ExchangeImg._CONS_.GRID).jqGrid("setGridParam",{postData:b}).trigger("reloadGrid");},};