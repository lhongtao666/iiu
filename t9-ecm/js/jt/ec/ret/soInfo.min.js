function SoInfo(){this.soItemList=new SoItemList();}SoInfo._CONS_={SHOW_SO_INFO_URL:ctx+"/ec/ret/returnEntity/showSoInfo.htm",SHOW_SO_ITEM_INFO_URL:ctx+"/ec/ret/returnEntity/showSoItemInfo.htm",EXCHANGE_ENTITY_RECORDS:ctx+"/ec/ret/returnEntity/records.htm",EXCHANGE_REFRESH_URL:ctx+"/ec/ret/exchangeEntity/soShow.htm",EXCHANGE_TYPE:"exchange",RETURN_TYPE:"return",SOINFO_FORM_ID:"soInfoForm",};
SoInfo.prototype={init:function(a){if(a){this.calType=a.type;}this._loadSoInfoData();},_loadSoInfoData:function(){var a=this;var b=SoInfo._CONS_.SHOW_SO_INFO_URL+"?soNo="+soNo;
FormUtils.loadData(b,function(c){a.soItemList.init({data:c.soItemVos,type:SoItemList._CONS_.LIST_TYPE,calType:a.calType,soType:c.soType});a._fillDataInfo({data:c,type:SoItemList._CONS_.LIST_TYPE});
});},loadSoItemData:function(b){url=SoInfo._CONS_.SHOW_SO_ITEM_INFO_URL+"?soItemId="+b+"&soNo="+soNo;var a=this;FormUtils.loadData(url,function(c){a.soItemList.init({data:c.soItemVos,type:SoItemList._CONS_.ONE_TYPE,soType:c.soType});
a._fillDataInfo({data:c,type:SoItemList._CONS_.ONE_TYPE});});},_bindEventHander:function(){var a=this;},_fillDataInfo:function(c){var a=this;var b=c.data;
if(b!=null&&c.type==SoItemList._CONS_.LIST_TYPE){$("#returnApplyForm").find("[name=csName]").val(b.csName);$("#exchangeEntityForm").find("[name=csName]").val(b.csName);
$("#soInfoForm").find("[name=csId]").val(b.csId);$("#soInfoForm").find("[name=csName]").val(b.csName);$("#soInfoForm").find("[name=soNo]").val(b.soNo);
}else{if(b!=null&&c.type==SoItemList._CONS_.ONE_TYPE){$("#soInfoForm").find("[name=skuName]").val((b.soItemVos)[0].prodName);$("#soInfoForm").find("[name=skuId]").val((b.soItemVos)[0].skuId);
$("#soInfoForm").find("[name=skuImage]").val((b.soItemVos)[0].prodPic);$("#soInfoForm").find("[name=canReturnCount]").val((b.soItemVos)[0].countShow-(b.soItemVos)[0].returnCount-(b.soItemVos)[0].exchangeCount);
}}},clearDataInfo:function(a){$("#soInfoForm").find("[name=skuName]").val("");$("#soInfoForm").find("[name=skuId]").val("");$("#soInfoForm").find("[name=skuImage]").val("");
$("#soInfoForm").find("[name=canReturnCount]").val(0);}};