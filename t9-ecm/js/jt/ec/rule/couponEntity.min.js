$(function(){var a=new CouponEntity();a.init();});function CouponEntity(){}CouponEntity._CONS_={GRID:"#couponEntityGrid",PAGER:"#couponEntityPager",LIST_DATA_URL:ctx+"/ec/rule/coupon/listData.htm"};
CouponEntity.prototype={init:function(){this._initJqgrid();},_initJqgrid:function(){$.jgrid.defaults.styleUI="Bootstrap";$.jgrid.styleUI.Bootstrap.base.rowTable="table table-bordered table-striped";
$(CouponEntity._CONS_.GRID).jqGrid({url:CouponEntity._CONS_.LIST_DATA_URL,pager:CouponEntity._CONS_.PAGER,postData:{Q__S__EQ__def_id_:couponDefId},datatype:"json",mtype:"post",autowidth:true,shrinkToFix:true,multiselect:true,pagerpos:"center",rowNum:20,rowList:[20,40,60,80,100],viewrecords:true,hidegrid:false,height:"auto",colNames:["优惠劵码","持有数量","已使用次数","有效期起始","有效期结束","状态","创建时间",],colModel:[{name:"code",index:"code_",width:180,sortable:true},{name:"count",index:"count_",width:80},{name:"usedCount",index:"used_count_",width:80},{name:"usefulStart",index:"useful_start_",width:180},{name:"usefulEnd",index:"useful_end_",width:180},{name:"status",index:"status_",width:60,sortable:false,formatter:function(a){if(a=="useful"){return"<label class='label label-primary'>可用</label>";
}else{if(a=="unbind"){return"<label class='label label-warning'>未绑定</label>";}else{if(a=="invalid"){return"<label class='label label-danger'>失效</label>";
}}}}},{name:"createTime",index:"create_time_",width:120},]});}};