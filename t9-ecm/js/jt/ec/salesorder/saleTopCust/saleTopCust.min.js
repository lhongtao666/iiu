$(function(){function b(){this.hadInit=false;this.isEdit=false;this.intervalId=null;this.$container=$("div[srcVal='/ec/salesorder/soEntity/saleTopCust/list.htm']");
}b._CONS_={INDEX_URL:ctx+"/ec/salesorder/soEntity/findTotalAmtTop10ByCs.htm",CHART_DIV:"soTopCustChart",};b.prototype={init:function(d){var c=this;if(!c.hadInit){c.hadInit=true;
c._bindEventHander();c._getData("qryTimeType=this");$(".thisButton").addClass("btn-primary");$(".preButton").removeClass("btn-primary");var c=this;c.intervalId=setInterval(function(){c._getData("qryTimeType=this");
},60*60000);}},createReport:function(e){var d=this;var c=new Report();c.data=e;c.setLegend(false);c.setToolboxShow(false,false);c.setBarSeriesStyle(true,"right","{c}元");
c.setGridXY(70,4);c.initSeries([{type:"bar",colName:"totalAmount",legendName:"金额"}],"csName",null,"transverse");c._initChart(b._CONS_.CHART_DIV,null);},_bindEventHander:function(){var c=this;
$(".thisButton").unbind("click");$(document).on("click",".thisButton",function(){if(c.intervalId!=null){clearInterval(c.intervalId);}$(this).addClass("btn-primary");
$(".preButton").removeClass("btn-primary");c._getData("qryTimeType=this");c.intervalId=setInterval(function(){c._getData("qryTimeType=this");},60*60000);
});$(".preButton").unbind("click");$(document).on("click",".preButton",function(){if(c.intervalId!=null){clearInterval(c.intervalId);c.intervalId=null;
}$(this).addClass("btn-primary");$(".thisButton").removeClass("btn-primary");c._getData("qryTimeType=pre");});},_getData:function(c){var d=this;$.ajax({type:"GET",url:b._CONS_.INDEX_URL,data:c,contentType:"application/json",dataType:"json",success:function(e){d.createReport(e);
},error:function(e){DialogUtils.error("错误",e);}});}};var a=new b();a.init();});