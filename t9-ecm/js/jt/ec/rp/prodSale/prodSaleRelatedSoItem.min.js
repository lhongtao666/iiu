$(function(){var a=new ProdSaleRelatedSoItem();a.init();});function ProdSaleRelatedSoItem(){this.hadInit=false;this.isEdit=false;this.isFormDataChange=false;
}ProdSaleRelatedSoItem._CONS_={LIST_DATA_URL:ctx+"/ec/rp/reportProfit/findRelativeSoItem.htm",SO_DETAIL_PAGE_URL:ctx+"/ec/salesorder/soEntity/detail.htm",GRID:"#prodSaleRelatedSoItemGrid",};
ProdSaleRelatedSoItem.prototype={init:function(b){if(!this.hadInit){this.hadInit=true;var a=this;this._bindEventHander();var b={soNos:soNos,skuId:skuId};
this._initJqgrid(b);}},_bindEventHander:function(){var a=this;$(document).on("click",".toSoDetail",function(){var b=$(this).attr("soNo");JTTabUtils.addOrRefreshTab(ProdSaleRelatedSoItem._CONS_.SO_DETAIL_PAGE_URL+"?soNo="+b,"订单明细");
});},_initJqgrid:function(b){var a=this;if(b==null||typeof b==undefined){b={};}$(ProdSaleRelatedSoItem._CONS_.GRID).JTJqgrid({url:ProdSaleRelatedSoItem._CONS_.LIST_DATA_URL,pager:ProdSaleRelatedSoItem._CONS_.PAGER,postData:b,footerrow:true,rowNum:-1,colNames:["订单编号","商品名称","SKU","数量","售价(折后)"],colModel:[{name:"soNo",width:40,sortable:false,formatter:function(c,d,e){return"<a href='#' class='toSoDetail' soNo='"+e.soNo+"'>"+c+"</a>";
}},{name:"skuKey",width:40,sortable:false},{name:"prodName",width:40,sortable:false},{name:"count",width:40,sortable:false},{name:"salesPrice",width:40,sortable:false}],});
}};