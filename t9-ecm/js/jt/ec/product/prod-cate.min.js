var ProdCateUtils={bindEventHanlder:function(){$("#cateContainer").on("click",".deleteCateBtn",function(){$(this).parent().parent().nextAll().each(function(){var a=$(this).find("td:eq(0)").text().trim();
$(this).find("td:eq(0)").text((a-1));});$(this).parents("tr").remove();});$("#addCateBtn").on("click",function(){var b="category";if(type=="point"){b="prodPoint";
}var a={isMultiple:1,selectedCateIds:"",typeKey:"",pKey:"",typeKey:"product_catalog",pKey:b,fn:function(c){ProdCateUtils.createCates(c);}};CateUtils.selectCate(a);
});},getCateJson:function(){var a=[];$("#cateContainer").find("tr").each(function(){var c=$(this).attr("cateIdVal");var b=$(this).attr("cateNameVal");a.push({cateId:c,cateName:b});
});return"cateJson="+JSON.stringify(a);},createCates:function(a){var l=new StringBuffer();if(a&&a.length>0){var g=$("#cateContainer").find("tr").length;
for(var e=0;e<a.length;e++){g=g+1;if($("#cateContainer").find("tr[cateIdVal='"+a[e].id+"']").length){continue;}l.append("<tr cateIdVal='"+a[e].id+"' cateNameVal='"+a[e].name+"'>");
l.append("<td>");l.append(g);l.append("</td>");l.append("<td>");l.append(a[e].name);l.append("</td>");l.append("<td>");l.append("从分类");l.append("</td>");
var n=a[e].createTime;if(!a[e].createTime){var b=new Date();var j=b.getDate();var c=b.getMonth()+1;var k=b.getFullYear();var f=b.getHours();var c=b.getMinutes();
var o=b.getSeconds();n=k+"-"+c+"-"+j+" "+f+":"+c+":"+o;}l.append("<td>");l.append(n);l.append("</td>");l.append("<td>");l.append("<button class='btn btn-danger deleteCateBtn' type='button'>删除</button>");
l.append("</td>");l.append("</tr>");}}$("#cateContainer").append(l.toString());}};