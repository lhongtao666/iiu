$(function(){var a=new ShipCompany();a.init();});function ShipCompany(){this.hadInit=false;this.isEdit=false;this.isFormDataChange=false;this.addressService=new AddressService(ShipCompany._CONS_.ADDR_CONTAINER);
this.newAddressService=new AddressService(ShipCompany._CONS_.NEW_ADDR_CONTAINER);}ShipCompany._CONS_={SAVE_ADD_URL:ctx+"/ec/ship/shipCompany/saveAdd.htm",LIST_DATA_URL:ctx+"/ec/ship/shipCompany/listData.htm",LIST_SALE_URL:ctx+"/gl/tpl/tplPrint/listSale.htm",CHANGE_STATUS_URL:ctx+"/ec/ship/shipCompany/updateStatus.htm",HOT_CONFIG_URL:ctx+"/ec/ship/shipCompany/edit.htm",HOT_CONFIG_SAVE_URL:ctx+"/ec/ship/shipCompany/updateHotConfig.htm",INIT_TPL_URL:ctx+"/ec/ship/shipCompany/initBaseTpl.htm",DELETE_PRINT_URL:ctx+"/gl/tpl/tplPrint/delete.htm",DELETE_URL:ctx+"/ec/ship/shipCompany/delete.htm",DES_PROXY_URL:ctx+"/gl/tpl/tplPrint/desProxy.htm",FIND_CODE_URL:ctx+"/ec/ship/shipCompany/findCode.htm",FIND_TPL_URL:ctx+"/ec/ship/shipCompany/findTpl.htm",SHIP_CODE_SAVE_URL:ctx+"/ec/ship/shipCompany/shipCodeSave.htm",SAVE_TABLE_URL:ctx+"/ec/ship/shipCompany/saveTable.htm",EDIT_FORM_ID:"shipCompanyForm",ADDR_CONTAINER:"addrContainer",NEW_ADDR_CONTAINER:"newAddrContainer",};
ShipCompany.prototype={init:function(a){if(!this.hadInit){this.hadInit=true;this._bindEventHander();this._initTable(a);this._hideNotGrantBtn();this._initOutSaleTpl();
this._locateToGlHelp();}},_locateToGlHelp:function(){var a="glHelp.systemconfig.shipCompany";glHelpUtil.init(a);},_hideNotGrantBtn:function(){if(!ResUtils.canShow("shipCompany.button.add")){$(".shipCompanyAdd").hide();
}if(!ResUtils.canShow("shipCompany.button.initBaseTpl")){$(".initTplBtn").hide();}if(!ResUtils.canShow("shipCompany.button.feeSetting")){$(".feeSetting").hide();
}},_initAllTpl:function(){var a=this;ButtonUtils.disableBtn("initTplBtn");FormUtils.submit(ShipCompany._CONS_.INIT_TPL_URL,"",function(b){ButtonUtils.enableBtn("initTplBtn");
if(b.success){DialogUtils.success(msgCode.INFO,b.msg);}else{DialogUtils.error(msgCode.FAIL_MSG,b.msg);}},function(){ButtonUtils.enableBtn("initTplBtn");
DialogUtils.error(msgCode.ERROR,msgCode.ERROR_MSG);});},_saveAdd:function(){var a=this;if($("input[name=name]:last").val()==""){DialogUtils.error("提示","请输入快递公司名称再进行添加");
return;}ButtonUtils.disableBtn("shipCompanyAdd");FormUtils.submit(ShipCompany._CONS_.SAVE_ADD_URL,"name="+$("input[name=name]:last").val(),function(b){ButtonUtils.enableBtn("shipCompanyAdd");
if(b.success){DialogUtils.success(msgCode.INFO,msgCode.CREATE_MSG);a._addChangeTable($.parseJSON(b.msg));}else{DialogUtils.error(msgCode.FAIL_MSG,b.msg);
}},function(){ButtonUtils.enableBtn("shipCompanyAdd");DialogUtils.error(msgCode.ERROR,msgCode.ERROR_MSG);});},_changeStatus:function(c,a){var b=this;FormUtils.submit(ShipCompany._CONS_.CHANGE_STATUS_URL,"id="+c+"&status="+a,function(d){if(d.success){DialogUtils.success(msgCode.INFO,d.msg);
}else{DialogUtils.error(msgCode.FAIL_MSG,d.msg);}},function(){DialogUtils.error(msgCode.ERROR,msgCode.ERROR_MSG);});},_bindEventHander:function(){var a=this;
$(document).on("click",".searchBtn",function(){a._initTable($(this).closest("form").serialize());});$("body").on("click",".initTplBtn",function(){a._initAllTpl();
});$("body").on("click",".feeSetting",function(){a._feeSetting();});$("body").on("click",".shipCompanyAdd",function(){a._saveAdd();});$("body").on("change","input[name=status]",function(){var b=$(this).is(":checked")?"actived":"inactive";
a._changeStatus($(this).closest("tr").attr("idVar"),b);});$("body").on("click",".desBtn",function(){if(navigator.userAgent.indexOf("Firefox")==-1){DialogUtils.error("错误","只支持火狐浏览器设计模板");
return null;}var f=$(this).parent().next().find("select").first();var b=f.find("option:selected");var c=b.attr("pathVal");var e=c.substr(c.lastIndexOf("/"),c.length);
var d=b.attr("idVal");JTTabUtils.addOrRefreshTab(ctx+"/gl/tpl/tplPrint/des.htm?id="+d+"&dname="+e+"&path="+b.attr("pathVal"),"模板设计");});$("body").on("click",".desProxyBtn",function(){if(navigator.userAgent.indexOf("Firefox")==-1){DialogUtils.error("错误","只支持火狐浏览器设计模板");
return null;}var b=$(this).parent().parent().attr("idvar");FormUtils.loadData(ShipCompany._CONS_.DES_PROXY_URL+"?id="+b+"&type=ship_proxy",function(c){var d=c.path.substr(c.path.lastIndexOf("/"),c.path.length);
JTTabUtils.addOrRefreshTab(ctx+"/gl/tpl/tplPrint/des.htm?id="+c.id+"&dname="+d+"&path="+c.path,"模板设计");});});$("body").on("click",".desNotProxyBtn",function(){if(navigator.userAgent.indexOf("Firefox")==-1){DialogUtils.error("错误","只支持火狐浏览器设计模板");
return null;}var b=$(this).parent().parent().attr("idvar");FormUtils.loadData(ShipCompany._CONS_.DES_PROXY_URL+"?id="+b+"&type=ship_not_proxy",function(c){var d=c.path.substr(c.path.lastIndexOf("/"),c.path.length);
JTTabUtils.addOrRefreshTab(ctx+"/gl/tpl/tplPrint/des.htm?id="+c.id+"&dname="+d+"&path="+c.path,"模板设计");});});$("body").on("click",".delPrint",function(){var d=$(this).parent().next().find("select").first();
var b=d.find("option:selected");var c=b.attr("idVal");FormUtils.submit(ShipCompany._CONS_.DELETE_PRINT_URL,"id="+c,function(e){if(e.success){b.remove();
DialogUtils.success(msgCode.SUCCESS,e.msg,$(".shipTplEdit"));}else{DialogUtils.error(msgCode.ERROR,e.msg);}});});$("body").on("click",".hotConfig",function(){var b=$(this).parent().parent().attr("idvar");
var c=$(this).parent().parent().attr("aliasVar");var d=$(this).parent().parent().attr("ishotVar");if(isOpenSubLogisticsSystem&&isOpenSubLogisticsSystemsubmitOrder&&d=="y"){a._newHotEdit(b);
a._initNewExpressType(c);}else{if(d=="y"){a._sfHotEdit(b);a._initExpressType(c);}}});$("body").on("click",".codeBtn",function(){var c=$(this).parent().parent().attr("idvar");
var b=$(this).parent().parent().attr("aliasVar");a._initCode(c,b);});$("body").on("click",".versionBtn",function(){var b=$(this).parent().parent().attr("idvar");
a._initTpl(b);});$("body").on("click",".setGroup",function(){var b=$(this).parent().parent().attr("idvar");a._initGroup(b);});$(document).on("blur","input[name=name]",function(){var b=$(this).val();
var c=$(this).attr("org-value");var d=$(this).parent().parent().attr("idvar");if(b==""){$(this).val(c);return;}if(b!=c&&d){a._saveName(d,b,this);}});$(document).on("keyup","input[name=name]",function(c){if(c.keyCode=="13"){$(this).blur();
}else{if(c.keyCode=="27"){var b=$(this).attr("org-value");$(this).val(b);}}});$(document).on("blur","input[name=percent]",function(){var c=$(this).val();
var b=$(this).attr("org-value");var e=$(this).parent().parent().attr("idvar");if(isNaN(c)||c==""){DialogUtils.error("提示","请输入0~1之间的小数");return;}var d=parseFloat(c);
if(d>=1){DialogUtils.error("提示","请输入0~1之间的小数");return;}if(c!=b){a._savePercent(e,c,this);}});$(document).on("keyup","input[name=percent]",function(c){if(c.keyCode=="13"){$(this).blur();
}else{if(c.keyCode=="27"){var b=$(this).attr("org-value");$(this).val(b);}}});$(document).on("blur","input[name=sort]",function(){var b=$(this).val();var c=$(this).attr("org-value");
var d=$(this).parent().parent().attr("idvar");if(b==""){$(this).val(c);return;}if(b!=c){a._saveSort(d,b,this);}});$(document).on("keyup","input[name=sort]",function(c){if(c.keyCode=="13"){$(this).blur();
}else{if(c.keyCode=="27"){var b=$(this).attr("org-value");$(this).val(b);}}});$(document).on("blur","input[name=servicePhone]",function(){var b=$(this).val();
var c=$(this).attr("org-value");var d=$(this).parent().parent().attr("idvar");if(b==""){$(this).val(c);return;}if(b!=c){a._saveServicePhone(d,b,this);}});
$(document).on("keyup","input[name=servicePhone]",function(c){if(c.keyCode=="13"){$(this).blur();}else{if(c.keyCode=="27"){var b=$(this).attr("org-value");
$(this).val(b);}}});$(document).on("change","input[name=selectGroups]",function(b){if($("#part").is(":checked")){$(".selectGroupsDiv").show();}else{$(".selectGroupsDiv").hide();
$("input[name=belongGroups]").val("");$("#belongOgnName").val("");}});$(document).on("click",".deleteShipCompany",function(){var b=$(this).parent().parent().attr("idvar");
if(b){FormUtils.loadData(ShipCompany._CONS_.DELETE_URL+"?shipId="+b,function(c){if(c.success){DialogUtils.success(msgCode.SUCCESS,c.msg);}else{DialogUtils.error(msgCode.error,c.msg);
}$(".searchBtn").trigger("click");});}});},_initGroupSelect:function(){var a=this;$("#belongOgnName").on("click",function(){var b={isMultiple:1,selectedGroupId:$("input[name='belongGroups']").val(),container:"belongOgnName",nolimit:true,fn:function(c,d,e){$("input[name=belongGroups]").val(c);
$("#belongOgnName").val(e);}};GroupUtils.selectGroupTreeBox(b);});},_saveName:function(d,a,b){var c={id:d,key:"name",value:a};this._saveEditGrid(c,b);},_saveSort:function(d,a,b){var c={id:d,key:"sort",value:a};
this._saveEditGrid(c,b);},_saveServicePhone:function(d,a,b){var c={id:d,key:"servicePhone",value:a};this._saveEditGrid(c,b);},_savePercent:function(d,b,a){var c={id:d,key:"percent",value:b};
this._saveEditGrid(c,a);},_saveEditGrid:function(c,b){var a=ShipCompany._CONS_.SAVE_TABLE_URL;FormUtils.submit(a,c,function(d){if(d.success){DialogUtils.success(msgCode.INFO,d.msg);
$(b).attr("org-value",c.value);$(b).val(c.value);}else{DialogUtils.error(msgCode.FAIL_MSG,d.msg);$(b).val($(b).attr("org-value"));}},function(){DialogUtils.error(msgCode.ERROR,msgCode.ERROR_MSG);
});},_initTpl:function(b){var a=this;layer.open({type:1,title:"版本管理",maxmin:false,move:false,scrollbar:false,shadeClose:false,btn:["关闭"],area:["48%;","40%"],content:$(".shipTplEdit"),success:function(c,d){FormUtils.clear("shipTplForm");
FormUtils.loadData(ShipCompany._CONS_.FIND_TPL_URL+"?id="+b,function(h){var f=new StringBuffer();f.append("<div class='form-group' style='padding-left:3px;padding-right:3px;'>");
f.append("<div class='col-sm-3' style='padding:0px;'>");f.append("<button type='button' class='btn btn-sm btn-outline btn-primary desBtn'>设计代收</button>");
f.append("<i class='fa fa-remove delPrint pull-right' title='删除' style='color:red;cursor:pointer;margin-top:5px;'></i>");f.append("</div>");f.append("<div class='col-sm-3' style='padding-left:2px;padding-right:4px;'>");
f.append("<select class='form-control' >");for(var e=0;e<h.poxyTplPos.length;e++){f.append("<option idVal='").append(h.poxyTplPos[e].id).append("' pathVal='").append(h.poxyTplPos[e].path).append("' >").append(DateUtils.miniTime(h.poxyTplPos[e].createTime).replace("-","").replace(":","")).append("</option>");
}f.append("</select>");f.append("</div>");f.append("<div class='col-sm-3' style='padding:0px;'>");f.append("<button type='button' class='btn btn-sm btn-outline btn-primary desBtn'  style='padding-left:2px;'>设计非代收</button>");
f.append("<i class='fa fa-remove delPrint pull-right' title='删除' style='color:red;cursor:pointer;margin-top:5px;'></i>");f.append("</div>");f.append("<div class='col-sm-3' style='padding-left:2px;padding-right:2px;'>");
f.append("<select class='form-control' >");for(var g=0;g<h.notPoxyTplPos.length;g++){f.append("<option idVal='").append(h.notPoxyTplPos[g].id).append("' pathVal='").append(h.notPoxyTplPos[g].path).append("' >").append(DateUtils.miniTime(h.notPoxyTplPos[g].createTime).replace("-","").replace(":","")).append("</option>");
}f.append("</select>");f.append("</div>");if(h.name=="EMS"){f.append("</div>");f.append("<div class='form-group' style='padding-left:0px;padding-right:0px;'>");
f.append("<div class='col-sm-3' style='padding:0px;'>");f.append("<button type='button' class='btn btn-sm btn-outline btn-primary desBtn'>设计代收1</button>");
f.append("<i class='fa fa-remove delPrint pull-right' title='删除' style='color:red;cursor:pointer;margin-top:5px;'></i>");f.append("</div>");f.append("<div class='col-sm-3' style='padding-left:2px;padding-right:4px;'>");
f.append("<select class='form-control' >");if(h.poxyTplPoOnes){for(var e=0;e<h.poxyTplPoOnes.length;e++){f.append("<option idVal='").append(h.poxyTplPoOnes[e].id).append("' pathVal='").append(h.poxyTplPoOnes[e].path).append("' >").append(DateUtils.miniTime(h.poxyTplPoOnes[e].createTime).replace("-","").replace(":","")).append("</option>");
}}f.append("</select>");f.append("</div>");f.append("<div class='col-sm-3' style='padding:0px;'>");f.append("<button type='button' class='btn btn-sm btn-outline btn-primary desBtn'  style='padding-left:2px;'>设计非代收1</button>");
f.append("<i class='fa fa-remove delPrint pull-right' title='删除' style='color:red;cursor:pointer;margin-top:5px;'></i>");f.append("</div>");f.append("<div class='col-sm-3' style='padding-left:2px;padding-right:2px;'>");
f.append("<select class='form-control' >");if(h.notPoxyTplPoOnes){for(var g=0;g<h.notPoxyTplPoOnes.length;g++){f.append("<option idVal='").append(h.notPoxyTplPoOnes[g].id).append("' pathVal='").append(h.notPoxyTplPoOnes[g].path).append("' >").append(DateUtils.miniTime(h.notPoxyTplPoOnes[g].createTime).replace("-","").replace(":","")).append("</option>");
}}f.append("</select>");f.append("</div>");f.append("</div>");f.append("<div class='form-group' style='padding-left:0px;padding-right:0px;'>");f.append("<div class='col-sm-3' style='padding:0px;'>");
f.append("<button type='button' class='btn btn-sm btn-outline btn-primary desBtn'>设计代收2</button>");f.append("<i class='fa fa-remove delPrint pull-right' title='删除' style='color:red;cursor:pointer;margin-top:5px;'></i>");
f.append("</div>");f.append("<div class='col-sm-3' style='padding-left:2px;padding-right:4px;'>");f.append("<select class='form-control' >");if(h.poxyTplPoTwos){for(var e=0;
e<h.poxyTplPoTwos.length;e++){f.append("<option idVal='").append(h.poxyTplPoTwos[e].id).append("' pathVal='").append(h.poxyTplPoTwos[e].path).append("' >").append(DateUtils.miniTime(h.poxyTplPoTwos[e].createTime).replace("-","").replace(":","")).append("</option>");
}}f.append("</select>");f.append("</div>");f.append("<div class='col-sm-3' style='padding:0px;'>");f.append("<button type='button' class='btn btn-sm btn-outline btn-primary desBtn'  style='padding-left:2px;'>设计非代收2</button>");
f.append("<i class='fa fa-remove delPrint pull-right' title='删除' style='color:red;cursor:pointer;margin-top:5px;'></i>");f.append("</div>");f.append("<div class='col-sm-3' style='padding-left:2px;padding-right:2px;'>");
f.append("<select class='form-control' >");if(h.notPoxyTplPoTwos){for(var g=0;g<h.notPoxyTplPoTwos.length;g++){f.append("<option idVal='").append(h.notPoxyTplPoTwos[g].id).append("' pathVal='").append(h.notPoxyTplPoTwos[g].path).append("' >").append(DateUtils.miniTime(h.notPoxyTplPoTwos[g].createTime).replace("-","").replace(":","")).append("</option>");
}}f.append("</select>");f.append("</div>");f.append("</div>");f.append("<div class='form-group' style='padding-left:0px;padding-right:0px;'>");f.append("<div class='col-sm-3' style='padding:0px;'>");
f.append("<button type='button' class='btn btn-sm btn-outline btn-primary desBtn'>设计代收3</button>");f.append("<i class='fa fa-remove delPrint pull-right' title='删除' style='color:red;cursor:pointer;margin-top:5px;'></i>");
f.append("</div>");f.append("<div class='col-sm-3' style='padding-left:2px;padding-right:4px;'>");f.append("<select class='form-control' >");if(h.poxyTplPoThrees){for(var e=0;
e<h.poxyTplPoThrees.length;e++){f.append("<option idVal='").append(h.poxyTplPoThrees[e].id).append("' pathVal='").append(h.poxyTplPoThrees[e].path).append("' >").append(DateUtils.miniTime(h.poxyTplPoThrees[e].createTime).replace("-","").replace(":","")).append("</option>");
}}f.append("</select>");f.append("</div>");f.append("<div class='col-sm-3' style='padding:0px;'>");f.append("<button type='button' class='btn btn-sm btn-outline btn-primary desBtn'  style='padding-left:2px;'>设计非代收3</button>");
f.append("<i class='fa fa-remove delPrint pull-right' title='删除' style='color:red;cursor:pointer;margin-top:5px;'></i>");f.append("</div>");f.append("<div class='col-sm-3' style='padding-left:2px;padding-right:2px;'>");
f.append("<select class='form-control' >");if(h.notPoxyTplPoThrees){for(var g=0;g<h.notPoxyTplPoThrees.length;g++){f.append("<option idVal='").append(h.notPoxyTplPoThrees[g].id).append("' pathVal='").append(h.notPoxyTplPoThrees[g].path).append("' >").append(DateUtils.miniTime(h.notPoxyTplPoThrees[g].createTime).replace("-","").replace(":","")).append("</option>");
}}f.append("</select>");f.append("</div>");}f.append("</div>");$(".shipTplInfo").empty().append(f.toString());});},cancel:function(){$("#shipTplForm").validate().resetForm();
FormUtils.clear("shipTplForm");}});},_initNewExpressType:function(a){if("debang"==a){$("#newHotConfigForm").find(".dbNewConfigInfo").show();$("#newHotConfigForm").find(".jdNewConfigInfo").hide();
}else{if("zdy-jd"==a||"jd"==a){$("#newHotConfigForm").find(".dbNewConfigInfo").hide();$("#newHotConfigForm").find(".jdNewConfigInfo").show();}else{$("#newHotConfigForm").find(".dbNewConfigInfo").hide();
$("#newHotConfigForm").find(".jdNewConfigInfo").hide();}}},_initExpressType:function(a){var b=new StringBuffer();if(a=="sf"){b.append("<option value='1'>标准快递</option>");
b.append("<option value='2'>顺丰特惠</option>");b.append("<option value='3'>电商特惠</option>");b.append("<option value='5'>顺丰次晨</option>");b.append("<option value='11'>医药安心递</option>");
$(".expressType").empty().append(b.toString());$(".ytConfigInfo").hide();$(".dbConfigInfo").hide();$(".jdConfigInfo").hide();$(".bsConfigInfo").hide();
$(".ztConfigInfo").hide();$(".zt_kdgj_ConfigInfo").hide();$(".dbWareHouseConfigInfo").hide();$(".zt-kdgj-ConfigInfo").hide();$(".sfConfigInfo").show();
$(".isNotJdConfigInfo").show();$(".custIdInfo").show();}else{if(a=="yuantong"){b.append("<option value='1'>上门揽件</option>");b.append("<option value='2'>次日达</option>");
b.append("<option value='4'>次晨达</option>");b.append("<option value='8'>当日达</option>");b.append("<option value='0'>自己联系</option>");$(".expressType").empty().append(b.toString());
$(".ztConfigInfo").hide();$(".sfConfigInfo").hide();$(".jdConfigInfo").hide();$(".dbConfigInfo").hide();$(".bsConfigInfo").hide();$(".zt_kdgj_ConfigInfo").hide();
$(".dbWareHouseConfigInfo").hide();$(".zt-kdgj-ConfigInfo").hide();$(".ytConfigInfo").show();$(".isNotJdConfigInfo").show();$(".custIdInfo").show();}else{if(a=="debang"){b.append("<option value='PACKAGE'>标准快递</option>");
b.append("<option value='RCP'>360特惠件</option>");b.append("<option value='EPEP'>电商尊享</option>");b.append("<option value='DEAP'>特准快件</option>");$(".ytConfigInfo").hide();
$(".jdConfigInfo").hide();$(".bsConfigInfo").hide();$(".ztConfigInfo").hide();$(".sfConfigInfo").hide();$(".zt_kdgj_ConfigInfo").hide();$(".dbWareHouseConfigInfo").hide();
$(".zt-kdgj-ConfigInfo").hide();$(".dbConfigInfo").show();$(".isNotJdConfigInfo").show();$(".custIdInfo").show();$(".expressType").empty().append(b.toString());
}else{if(a=="ems"){b.append("<option value='1'>标准快递</option>");b.append("<option value='8'>代收到付</option>");b.append("<option value='9'>快递包裹</option>");
$(".expressType").empty().append(b.toString());$(".ytConfigInfo").hide();$(".dbConfigInfo").hide();$(".jdConfigInfo").hide();$(".bsConfigInfo").hide();
$(".ztConfigInfo").hide();$(".sfConfigInfo").hide();$(".zt_kdgj_ConfigInfo").hide();$(".dbWareHouseConfigInfo").hide();$(".zt-kdgj-ConfigInfo").hide();
$(".emsConfigInfo").show();$(".isNotJdConfigInfo").show();$(".custIdInfo").show();}else{if(a=="jd"){$(".isNotJdConfigInfo").hide();$(".ytConfigInfo").hide();
$(".dbConfigInfo").hide();$(".emsConfigInfo").hide();$(".zt_kdgj_ConfigInfo").hide();$(".dbWareHouseConfigInfo").hide();$(".zt-kdgj-ConfigInfo").hide();
$(".ztConfigInfo").hide();$(".bsConfigInfo").hide();$(".jdConfigInfo").show();}else{if(a=="zdy-jd"){$(".isNotJdConfigInfo").show();$(".ytConfigInfo").hide();
$(".dbConfigInfo").hide();$(".emsConfigInfo").hide();$(".zt_kdgj_ConfigInfo").hide();$(".dbWareHouseConfigInfo").hide();$(".zt-kdgj-ConfigInfo").hide();
$(".ztConfigInfo").hide();$(".bsConfigInfo").hide();$(".jdConfigInfo").show();}else{if(a=="huitong"){$(".ytConfigInfo").hide();$(".dbConfigInfo").hide();
$(".jdConfigInfo").hide();$(".ztConfigInfo").hide();$(".sfConfigInfo").hide();$(".dbWareHouseConfigInfo").hide();$(".custIdInfo").hide();$(".zt_kdgj_ConfigInfo").hide();
$(".bsConfigInfo").show();$(".isNotJdConfigInfo").show();}else{if(a=="zt"){$(".ytConfigInfo").hide();$(".dbConfigInfo").hide();$(".jdConfigInfo").hide();
$(".bsConfigInfo").hide();$(".sfConfigInfo").hide();$(".zt_kdgj_ConfigInfo").hide();$(".dbWareHouseConfigInfo").hide();$(".zt-kdgj-ConfigInfo").hide();
$(".ztConfigInfo").show();$(".isNotJdConfigInfo").show();}else{if("debangwarehouse"==a){$(".ytConfigInfo").hide();$(".dbConfigInfo").hide();$(".jdConfigInfo").hide();
$(".bsConfigInfo").hide();$(".sfConfigInfo").hide();$(".ztConfigInfo").hide();$(".custIdInfo").hide();$(".zt-kdgj-ConfigInfo").hide();$(".isNotJdConfigInfo").show();
$(".dbWareHouseConfigInfo").show();}else{if(a=="zt-kdgj"){$(".ytConfigInfo").hide();$(".dbConfigInfo").hide();$(".jdConfigInfo").hide();$(".bsConfigInfo").hide();
$(".sfConfigInfo").hide();$(".zt_kdgj_ConfigInfo").show();$(".ztConfigInfo").show();$(".isNotJdConfigInfo").show();$(".custIdInfo").show();$(".dbWareHouseConfigInfo").hide();
}else{$(".sfConfigInfo").hide();$(".ytConfigInfo").hide();$(".dbConfigInfo").hide();$(".jdConfigInfo").hide();$(".bsConfigInfo").hide();$(".ztConfigInfo").hide();
$(".zt_kdgj_ConfigInfo").hide();$(".dbWareHouseConfigInfo").hide();$(".zt-kdgj-ConfigInfo").hide();$(".isNotJdConfigInfo").show();$(".custIdInfo").show();
}}}}}}}}}}},_initGroup:function(b){var a=this;layer.open({type:1,title:"设置部门",maxmin:false,move:false,scrollbar:false,shadeClose:false,btn:["保存","关闭"],area:["35%;","40%"],content:$(".shipGroupEdit"),success:function(c,d){FormUtils.clear("shipGroupForm");
FormUtils.loadData(ShipCompany._CONS_.HOT_CONFIG_URL+"?id="+b,function(f){var e=new StringBuffer();e.append("<div class='form-group' style='padding-left:3px;padding-right:3px;'>");
e.append("<div class='col-sm-12'>");e.append("<label class='col-sm-3 control-label' style='margin-right:10%'>部分：</label>");e.append("<div class='radio radio-success radio-inline' style='margin-right:10%'>");
e.append("<input type='radio' value='' id='all' name='selectGroups'>");e.append("<label for='all'>全部</label>");e.append("</div>");e.append("<div class='radio radio-success radio-inline'>");
e.append("<input type='radio' value='part' id='part' name='selectGroups'>");e.append("<label for='part'>指定部门</label>");e.append("</div>");e.append("</div>");
e.append("</div>");e.append("<div class='form-group selectGroupsDiv'");if(f.belongGroups==""){e.append(" style='display:none;' ");}e.append(">");e.append("<label class='col-sm-3 control-label'>限定部门</label>");
e.append("<div class='col-sm-9'>");e.append("<input type='text' value='"+f.groupNames+"' class='form-control' readonly id='belongOgnName'>");e.append("<input name='belongGroups' type='hidden' value='"+f.belongGroups+"'>");
e.append("</div>");e.append("</div>");$(".shipGroupInfo").empty().append(e.toString());if(f.belongGroups==""){$(".shipGroupInfo").find("#all").val("all");
$(".shipGroupInfo").find("#all").attr("checked",true);$(".shipGroupInfo").find("#part").attr("checked",false);}else{$(".shipGroupInfo").find("#all").val("part");
$(".shipGroupInfo").find("#all").attr("checked",false);$(".shipGroupInfo").find("#part").attr("checked",true);}a._initGroupSelect();});},yes:function(d,c){var e={id:b,key:"belongGroups",value:$("input[name=belongGroups]").val()};
FormUtils.submit(ShipCompany._CONS_.SAVE_TABLE_URL,e,function(f){if(f.success){DialogUtils.success(msgCode.INFO,f.msg);layer.close(d);}else{DialogUtils.error(msgCode.FAIL_MSG,f.msg);
}},function(){DialogUtils.error(msgCode.ERROR,msgCode.ERROR_MSG);});},cancel:function(){$("#shipGroupForm").validate().resetForm();FormUtils.clear("shipGroupForm");
}});},_initCode:function(c,b){var a=this;layer.open({type:1,title:"编码管理",maxmin:false,move:false,scrollbar:false,shadeClose:false,btn:["保存","关闭"],area:["35%;","40%"],content:$(".shipCodeEdit"),success:function(d,e){FormUtils.clear("shipCodeForm");
FormUtils.loadData(ShipCompany._CONS_.FIND_CODE_URL+"?id="+c,function(i){var g=new StringBuffer();for(var f=0;f<i.length;){g.append("<div class='form-group'>");
g.append("<div class='col-sm-12' style='padding-left:0px;padding-right:0px;'>");var h=i[f];g.append("<label class='col-sm-3 control-label' style='padding-left:0px;padding-right:0px;'>");
g.append(h.apiTypeName).append("</label>");g.append("<div class='col-sm-9' style='padding-left:0px;padding-right:0px;'>");g.append("<input type='text' name='code' placeholder='输入编码' class='form-control' validateType='default' typeVal='");
g.append(h.apiType);if(h.id){g.append("' idVal='").append(h.id);}g.append("' value='").append(h.code).append("' >");g.append("</div>");f++;g.append("</div>");
g.append("</div>");}g.append("<div class='form-group'>");g.append("<div class='col-sm-12' style='padding-left:0px;padding-right:0px;'>");g.append("<label class='col-sm-3 control-label' style='padding-left:0px;padding-right:0px;'>");
g.append("快递编码").append("</label>");g.append("<div class='col-sm-9' style='padding-left:0px;padding-right:0px;'>");g.append("<select name='shipAlias' class='form-control' aliasVar='"+b+"'>");
g.append("<option value=''>请选择</option>");g.append("<option value='sf'>顺丰</option>");g.append("<option value='debang'>德邦</option>");g.append("<option value='ems'>EMS</option>");
g.append("<option value='yunda'>韵达</option>");g.append("<option value='zt'>中通</option>");g.append("<option value='yuantong'>圆通</option>");g.append("<option value='huitong'>汇通</option>");
g.append("</select>");g.append("</div>");g.append("</div>");g.append("</div>");$(".shipCodeInfo").empty().append(g.toString());$(".shipCodeInfo").find("select[name=shipAlias]").val(b);
});},yes:function(e,d){var f=$(".shipCodeInfo").find("select[name=shipAlias]").val()==null?$(".shipCodeInfo").find("select[name=shipAlias]").attr("aliasVar"):$(".shipCodeInfo").find("select[name=shipAlias]").val();
FormUtils.submit(ShipCompany._CONS_.SHIP_CODE_SAVE_URL,"id="+c+"&"+a._getCodeJSON($(".shipCodeInfo"))+"&alias="+f,function(g){if(g.success){DialogUtils.success(msgCode.INFO,g.msg);
layer.close(e);$(".searchBtn").trigger("click");}else{DialogUtils.error(msgCode.FAIL_MSG,g.msg);}},function(){DialogUtils.error(msgCode.ERROR,msgCode.ERROR_MSG);
});},cancel:function(){$("#shipCodeForm").validate().resetForm();FormUtils.clear("shipCodeForm");}});},_initTable:function(b){var a=this;$("#shipBody").empty();
FormUtils.loadData(ShipCompany._CONS_.LIST_DATA_URL+"?"+b,function(c){var d=new StringBuffer();var e=0;if(c!=null){for(;e<c.length;e++){$("#shipBody").append(a._buildLineStr(e+1,c[e]));
new Switchery(document.querySelector(".js_switch_"+(e+1)),{color:"#1AB394",className:"switchery switchery-small"});}}if(ResUtils.canShow("shipCompany.button.add")){d.append("<tr class='lastTr' countNumVar='").append(e+1).append("'><td class='lastCountNumTd'>").append(e+1).append("</td>");
d.append("<td><input type='text' placeholder='输入快递公司简称' class='form-control' name='name' validateType='default'></td>");d.append("<td><button type='button' id='shipCompanyAdd' class='jt-btn shipCompanyAdd'><i class='fa fa-plus'>&nbsp;</i>添加</button></td>");
d.append("</tr>");$("#shipBody").append(d.toString());}});},_initOutSaleTpl:function(){var a=this;$("#outSaleBody").empty();FormUtils.loadData(ShipCompany._CONS_.LIST_SALE_URL,function(b){var c=new StringBuffer();
var d=0;if(b!=null){$("#outSaleBody").append(a._buildSaleTpl(b));}});},_buildSaleTpl:function(c){var b=new StringBuffer();b.append("<tr>");b.append("<td>");
b.append("<div class='col-sm-3'>");b.append("<button type='button' class='btn btn-sm btn-outline btn-primary col-sm-6 desBtn'>设计出货单模板</button>");b.append("<i class='fa fa-remove delPrint pull-right' title='删除' style='color:red;cursor:pointer;margin-top:5px;'></i>");
b.append("</div>");b.append("<div class='col-sm-2'>");b.append("<select class='form-control'>");if(c){for(var a=0;a<c.length;a++){b.append("<option idVal='").append(c[a].id).append("' pathVal='").append(c[a].path).append("' >").append(DateUtils.miniTime(c[a].createTime).replace("-","").replace(":","")).append("</option>");
}}b.append("</select>");b.append("</div>");b.append("</div>");b.append("</td>");b.append("</tr>");return b.toString();},_addChangeTable:function(b){var a=parseInt($(".lastTr").attr("countNumVar"));
$(".lastTr").before(this._buildLineStr(a,b));new Switchery(document.querySelector(".js_switch_"+a),{color:"#1AB394",className:"switchery switchery-small"});
a++;$(".lastTr").attr("countNumVar",a);$(".lastCountNumTd").html(a);$(".lastTr").find("input[name=name]").first().val("");},_buildLineStr:function(c,b){var a=new StringBuffer();
a.append("<tr idVar='").append(b.id).append("' aliasVar='").append(b.alias).append("' isHotVar='").append(b.isHot).append("' ><td  style='padding-left:0px;padding-right:0px;'>").append(c).append("</td>");
a.append("<td><input type='text' placeholder='输入快递公司简称' class='form-control' name='name' validateType='default' org-value='"+b.name+"' value='").append(b.name).append("'></td>");
a.append("<td><input type='number' placeholder='输入客服电话' class='form-control' name='servicePhone' validateType='default' org-value='"+b.servicePhone+"' value='").append(b.servicePhone).append("'></td>");
a.append("<td><input type='text' placeholder='输入费率' class='form-control' name='percent' validateType='default' org-value='"+b.percent+"' value='").append(b.percent).append("'></td>");
a.append("<td>");if(b.status=="actived"){a.append("是");}else{a.append("否");}a.append("</td><td style='padding-left:0px;padding-right:0px;'>");if(b.isHot=="y"){a.append("是");
}else{a.append("否");}a.append("</td>");a.append("<td><input type='number' class='form-control' name='sort' validateType='default' org-value='"+b.sort+"' value='").append(b.sort).append("'></td>");
a.append("<td>");a.append("<input name='status' type='checkbox' value='actived' class='js_switch_");a.append(c).append("' ");if(b.status=="actived"){a.append("checked");
}a.append("/>");a.append(" <button type='button' class='btn btn-sm btn-outline btn-primary hotConfig'");if(b.isHot=="n"){a.append(" disabled");}a.append(">热打配置</button>");
a.append(" <button type='button' class='btn btn-sm btn-outline btn-primary desProxyBtn'>设计代收</button>");a.append(" <button type='button' class='btn btn-sm btn-outline btn-primary desNotProxyBtn'>设计非代收</button>");
a.append(" <button type='button' class='btn btn-sm btn-outline btn-primary setGroup'>设置部门</button>");a.append("<span class='jt-span'></span><button type='button' class='btn btn-sm btn-outline btn-primary versionBtn'>版本管理</button>");
a.append(" <button type='button' class='btn btn-sm btn-outline btn-primary codeBtn'>编码管理</button>");if(ResUtils.canShow("shipCompany.button.delete")){a.append(" <button type='button' class='btn btn-sm btn-danger jt-btn-normal jt-bn-red deleteShipCompany'>删除</button>");
}a.append("</td>");return a.toString();},_getCodeJSON:function(c){var a=new StringBuffer();var b=0;c.find("input[name=code]").each(function(){var f=$(this).attr("idVal");
var d=$(this).attr("typeVal");var e=$(this).val()==null?"":$(this).val();a.append("shipCodePos[").append(b).append("].apiType=").append(d).append("&");
if(f){a.append("shipCodePos[").append(b).append("].id=").append(f).append("&");}if(e!=null){a.append("shipCodePos[").append(b).append("].code=").append(e).append("&");
}b++;});return a.toString();},_feeSetting:function(){var a=this;JTTabUtils.addOrRefreshTab(ctx+"/ec/ship/shipCompany/feeSetting.htm","物流费用设置");},_newHotEdit:function(b){var a=this;
layer.open({type:1,title:"热敏打印配置",maxmin:false,move:false,scrollbar:false,shadeClose:false,btn:["保存","关闭"],area:["65%;","70%"],content:$(".newHotConfigEdit"),success:function(c,d){FormUtils.clear("newHotConfigForm");
FormUtils.loadData(ShipCompany._CONS_.HOT_CONFIG_URL+"?id="+b,function(f){if(f.newHotConfig!=null&&f.newHotConfig!=""){var e=$.parseJSON(f.newHotConfig);
a.newAddressService.init({country:"ChinaCityCateType-root",province:e.province,city:e.city,area:e.area,town:e.town,isHideCountry:true});if(e.userName){$("#newHotConfigForm").find("input[name=userName]").val(e.userName);
}if(e.mobile){$("#newHotConfigForm").find("input[name=mobile]").val(e.mobile);}if(e.userName){$("#newHotConfigForm").find("input[name=userName]").val(e.userName);
}if(e.address){$("#newHotConfigForm").find("input[name=address]").val(e.address);}if(e.expressType){$("#newHotConfigForm").find("select[name=expressType]").val(e.expressType);
}if(e.configId){$("#newHotConfigForm").find("input[name=configId]").val(e.configId);}if(e.configKey){$("#newHotConfigForm").find("input[name=configKey]").val(e.configKey);
}if(e.configUserName){$("#newHotConfigForm").find("input[name=configUserName]").val(e.configUserName);}if(e.configPassword){$("#newHotConfigForm").find("input[name=configPassword]").val(e.configPassword);
}if(e.appKey){$("#newHotConfigForm").find("input[name=appKey]").val(e.appKey);}if(e.token){$("#newHotConfigForm").find("input[name=token]").val(e.token);
}if(e.departmentNo){$("#newHotConfigForm").find("input[name=departmentNo]").val(e.departmentNo);}if(e.customerCode){$("#newHotConfigForm").find("input[name=customerCode]").val(e.customerCode);
}if(e.isvSource){$("#newHotConfigForm").find("input[name=isvSource]").val(e.isvSource);}if(e.shopNo){$("#newHotConfigForm").find("input[name=shopNo]").val(e.shopNo);
}if(e.accountName){$("#newHotConfigForm").find("input[name=accountName]").val(e.accountName);}if(e.reciveLoanAccount){$("#newHotConfigForm").find("input[name=reciveLoanAccount]").val(e.reciveLoanAccount);
}}});},yes:function(e,d){var c=a.newAddressService.getAddress();var g=$("#newHotConfigForm").find("input[name=userName]").val().replace('"'," ");var i=$("#newHotConfigForm").find("input[name=address]").val().replace('"'," ");
var h="{"+'"userName":"'+g+'","mobile":"'+$("#newHotConfigForm").find("input[name=mobile]").val()+'",'+'"provinceName":"'+c.provinceName+'","cityName":"'+c.cityName+'","areaName":"'+c.areaName+'","townName":"'+c.townName+'",'+'"province":"'+c.province+'","city":"'+c.city+'","area":"'+c.area+'","town":"'+c.town+'",'+'"address":"'+i+'","expressType":"'+$("#newHotConfigForm").find("select[name=expressType]").val()+'",'+'"configId":"'+$("#newHotConfigForm").find("input[name=configId]").val()+'","configKey":"'+$("#newHotConfigForm").find("input[name=configKey]").val()+'",'+'"configUserName":"'+$("#newHotConfigForm").find("input[name=configUserName]").val()+'","configPassword":"'+$("#newHotConfigForm").find("input[name=configPassword]").val()+'",'+'"appKey":"'+$("#newHotConfigForm").find("input[name=appKey]").val()+'","token":"'+$("#newHotConfigForm").find("input[name=token]").val()+'",'+'"isvSource":"'+$("#newHotConfigForm").find("input[name=isvSource]").val()+'","shopNo":"'+$("#newHotConfigForm").find("input[name=shopNo]").val()+'",'+'"departmentNo":"'+$("#newHotConfigForm").find("input[name=departmentNo]").val()+'","customerCode":"'+$("#newHotConfigForm").find("input[name=customerCode]").val()+'",'+'"accountName":"'+$("#newHotConfigForm").find("input[name=accountName]").val()+'","reciveLoanAccount":"'+$("#newHotConfigForm").find("input[name=reciveLoanAccount]").val()+'"'+"}";
var f={id:b,hotConfig:h};FormUtils.submit(ShipCompany._CONS_.HOT_CONFIG_SAVE_URL,$.param(f),function(j){if(j.success){DialogUtils.success(msgCode.INFO,j.msg);
layer.close(e);}else{DialogUtils.error(msgCode.FAIL_MSG,j.msg);}},function(){DialogUtils.error(msgCode.ERROR,msgCode.ERROR_MSG);});},cancel:function(){$("#newHotConfigForm").validate().resetForm();
FormUtils.clear("newHotConfigForm");}});},_sfHotEdit:function(b){var a=this;layer.open({type:1,title:"热敏打印配置",maxmin:false,move:false,scrollbar:false,shadeClose:false,btn:["保存","关闭"],area:["65%;","70%"],content:$(".sfHotConfigEdit"),success:function(c,d){FormUtils.clear("sfHotConfigForm");
FormUtils.loadData(ShipCompany._CONS_.HOT_CONFIG_URL+"?id="+b,function(f){if(f.hotConfig!=null&&f.hotConfig!=""){var e=$.parseJSON(f.hotConfig);if(e.url){$("#sfHotConfigForm").find("input[name=url]").val(e.url);
}if(e.port){$("#sfHotConfigForm").find("input[name=port]").val(e.port);}$("#sfHotConfigForm").find("input[name=oper]").val(e.oper);$("#sfHotConfigForm").find("input[name=checkword]").val(e.checkword);
if(e.custId){$("#sfHotConfigForm").find("input[name=custId]").val(e.custId);}if(e.expressType){$("#sfHotConfigForm").find("select[name=expressType]").val(e.expressType);
}if(e.userName){$("#sfHotConfigForm").find("input[name=userName]").val(e.userName);}if(e.mobile){$("#sfHotConfigForm").find("input[name=mobile]").val(e.mobile);
}a.addressService.init({country:"ChinaCityCateType-root",province:e.province,city:e.city,area:e.area,town:e.town,isHideCountry:true});if(e.address){$("#sfHotConfigForm").find("input[name=address]").val(e.address);
}if(e.useId){$("#sfHotConfigForm").find("input[name=useId]").val(e.useId);}if(e.appKey){$("#sfHotConfigForm").find("input[name=appKey]").val(e.appKey);
}if(e.secretKey){$("#sfHotConfigForm").find("input[name=secretKey]").val(e.secretKey);}if(e.medthod){$("#sfHotConfigForm").find("input[name=medthod]").val(e.medthod);
}if(e.ytServiceUrl){$("#sfHotConfigForm").find("input[name=ytServiceUrl]").val(e.ytServiceUrl);}if(e.accountName){$("#sfHotConfigForm").find("input[name=accountName]").val(e.accountName);
}if(e.reciveLoanAccount){$("#sfHotConfigForm").find("input[name=reciveLoanAccount]").val(e.reciveLoanAccount);}if(e.jdServiceUrl){$("#sfHotConfigForm").find("input[name=jdServiceUrl]").val(e.jdServiceUrl);
}if(e.jdMedthod){$("#sfHotConfigForm").find("input[name=jdMedthod]").val(e.jdMedthod);}if(e.jdAccessToken){$("#sfHotConfigForm").find("input[name=jdAccessToken]").val(e.jdAccessToken);
}if(e.jdAppKey){$("#sfHotConfigForm").find("input[name=jdAppKey]").val(e.jdAppKey);}if(e.jdSecretKey){$("#sfHotConfigForm").find("input[name=jdSecretKey]").val(e.jdSecretKey);
}if(e.isvSource){$("#sfHotConfigForm").find("input[name=isvSource]").val(e.isvSource);}if(e.shopNo){$("#sfHotConfigForm").find("input[name=shopNo]").val(e.shopNo);
}if(e.departmentNo){$("#sfHotConfigForm").find("input[name=departmentNo]").val(e.departmentNo);}if(e.customerCode){$("#sfHotConfigForm").find("input[name=customerCode]").val(e.customerCode);
}if(e.serviceType){$("#sfHotConfigForm").find("input[name=serviceType]").val(e.serviceType);}if(e.partnerId){$("#sfHotConfigForm").find("input[name=partnerId]").val(e.partnerId);
}if(e.partnerKey){$("#sfHotConfigForm").find("input[name=partnerKey]").val(e.partnerKey);}if(e.siteUserName){$("#sfHotConfigForm").find("input[name=siteUserName]").val(e.siteUserName);
}if(e.pass){$("#sfHotConfigForm").find("input[name=pass]").val(e.pass);}if(e.ztPartnerId){$("#sfHotConfigForm").find("input[name=ztPartnerId]").val(e.ztPartnerId);
}if(e.verify){$("#sfHotConfigForm").find("input[name=verify]").val(e.verify);}if(e.dbwarehouse_companyCode){$("#sfHotConfigForm").find("input[name=dbwarehouse_companyCode]").val(e.dbwarehouse_companyCode);
}if(e.dbwarehouse_appkey){$("#sfHotConfigForm").find("input[name=dbwarehouse_appkey]").val(e.dbwarehouse_appkey);}if(e.dbwarehouse_ownerCode){$("#sfHotConfigForm").find("input[name=dbwarehouse_ownerCode]").val(e.dbwarehouse_ownerCode);
}if(e.dbwarehouse_ownerName){$("#sfHotConfigForm").find("input[name=dbwarehouse_ownerName]").val(e.dbwarehouse_ownerName);}if(e.dbwarehouse_companyName){$("#sfHotConfigForm").find("input[name=dbwarehouse_companyName]").val(e.dbwarehouse_companyName);
}if(e.dbwarehouse_code){$("#sfHotConfigForm").find("input[name=dbwarehouse_code]").val(e.dbwarehouse_code);}if(e.dbwarehouse_name){$("#sfHotConfigForm").find("input[name=dbwarehouse_name]").val(e.dbwarehouse_name);
}if(e.shopKey){$("#sfHotConfigForm").find("input[name=shopKey]").val(e.shopKey);}}});},yes:function(e,d){var c=a.addressService.getAddress();var g=$("input[name=userName]").val().replace('"'," ");
var i=$("input[name=address]").val().replace('"'," ");var h='{"oper":"'+$("#sfHotConfigForm").find("input[name=oper]").val()+'","url":"'+$("#sfHotConfigForm").find("input[name=url]").val()+'","port":"'+$("#sfHotConfigForm").find("input[name=port]").val()+'","checkword":"'+$("#sfHotConfigForm").find("input[name=checkword]").val()+'","custId":"'+$("#sfHotConfigForm").find("input[name=custId]").val()+'","expressType":"'+$("#sfHotConfigForm").find("select[name=expressType]").val()+'","userName":"'+g+'","mobile":"'+$("#sfHotConfigForm").find("input[name=mobile]").val()+'","provinceName":"'+c.provinceName+'","cityName":"'+c.cityName+'","areaName":"'+c.areaName+'","townName":"'+c.townName+'","province":"'+c.province+'","city":"'+c.city+'","area":"'+c.area+'","town":"'+c.town+'","address":"'+i+'","useId":"'+$("input[name=useId]").val()+'","appKey":"'+$("input[name=appKey]").val()+'","secretKey":"'+$("input[name=secretKey]").val()+'","jdServiceUrl":"'+$("#sfHotConfigForm").find("input[name=jdServiceUrl]").val()+'","jdMedthod":"'+$("#sfHotConfigForm").find("input[name=jdMedthod]").val()+'","jdAppKey":"'+$("#sfHotConfigForm").find("input[name=jdAppKey]").val()+'","jdSecretKey":"'+$("#sfHotConfigForm").find("input[name=jdSecretKey]").val()+'","isvSource":"'+$("#sfHotConfigForm").find("input[name=isvSource]").val()+'","shopNo":"'+$("#sfHotConfigForm").find("input[name=shopNo]").val()+'","departmentNo":"'+$("#sfHotConfigForm").find("input[name=departmentNo]").val()+'","jdAccessToken":"'+$("#sfHotConfigForm").find("input[name=jdAccessToken]").val()+'","customerCode":"'+$("#sfHotConfigForm").find("input[name=customerCode]").val()+'","serviceType":"'+$("#sfHotConfigForm").find("input[name=serviceType]").val()+'","partnerId":"'+$("#sfHotConfigForm").find("input[name=partnerId]").val()+'","partnerKey":"'+$("#sfHotConfigForm").find("input[name=partnerKey]").val()+'","siteUserName":"'+$("#sfHotConfigForm").find("input[name=siteUserName]").val()+'","pass":"'+$("#sfHotConfigForm").find("input[name=pass]").val()+'","verify":"'+$("#sfHotConfigForm").find("input[name=verify]").val()+'","ztPartnerId":"'+$("#sfHotConfigForm").find("input[name=ztPartnerId]").val()+'","accountName":"'+$("#sfHotConfigForm").find("input[name=accountName]").val()+'","shopKey":"'+$("#sfHotConfigForm").find("input[name=shopKey]").val()+'","medthod":"'+$("#sfHotConfigForm").find("input[name=medthod]").val()+'","reciveLoanAccount":"'+$("#sfHotConfigForm").find("input[name=reciveLoanAccount]").val()+'","ytServiceUrl":"'+$("#sfHotConfigForm").find("input[name=ytServiceUrl]").val()+'"}';
$("#sfHotConfigForm").find("input[name=shopKey]").val()+'","medthod":"'+$("#sfHotConfigForm").find("input[name=medthod]").val()+'","reciveLoanAccount":"'+$("#sfHotConfigForm").find("input[name=reciveLoanAccount]").val()+'","ytServiceUrl":"'+$("#sfHotConfigForm").find("input[name=ytServiceUrl]").val()+'",'+'"dbwarehouse_ownerCode":"'+$("#sfHotConfigForm").find("input[name=dbwarehouse_ownerCode]").val()+'",'+'"dbwarehouse_ownerName":"'+$("#sfHotConfigForm").find("input[name=dbwarehouse_ownerName]").val()+'",'+'"dbwarehouse_appkey":"'+$("#sfHotConfigForm").find("input[name=dbwarehouse_appkey]").val()+'",'+'"dbwarehouse_companyName":"'+$("#sfHotConfigForm").find("input[name=dbwarehouse_companyName]").val()+'",'+'"dbwarehouse_companyCode":"'+$("#sfHotConfigForm").find("input[name=dbwarehouse_companyCode]").val()+'",'+'"dbwarehouse_code":"'+$("#sfHotConfigForm").find("input[name=dbwarehouse_code]").val()+'",'+'"dbwarehouse_name":"'+$("#sfHotConfigForm").find("input[name=dbwarehouse_name]").val()+'"}';
var f={id:b,hotConfig:h};FormUtils.submit(ShipCompany._CONS_.HOT_CONFIG_SAVE_URL,$.param(f),function(j){if(j.success){DialogUtils.success(msgCode.INFO,j.msg);
layer.close(e);}else{DialogUtils.error(msgCode.FAIL_MSG,j.msg);}},function(){DialogUtils.error(msgCode.ERROR,msgCode.ERROR_MSG);});},cancel:function(){$("#sfHotConfigForm").validate().resetForm();
FormUtils.clear("sfHotConfigForm");}});},};