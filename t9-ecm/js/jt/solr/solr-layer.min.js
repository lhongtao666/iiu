function Solr(a){this.layer={layerId:a.layerId?a.layerId:"",zIndex:a.zIndex?a.zIndex:"999",click:a.click?a.click:".solr-entry",extraClass:a.extraClass?(a.extraClass+" solr-layer"):"solr-layer",width:a.width?a.width:"800px",height:a.height?a.height:"600px",content:a.content?a.content:".jt-solr",offset:a.offset?a.offset:"78px"};
this.solr={solrType:null,solrKey:null,page:0,totalPages:0};this.bc=function(b){if(b!=null&&b!=undefined){if(typeof b=="boolean"){return b?true:b;}else{if((typeof b=="string")){if(b=="false"){return false;
}else{if(b=="true"){return true;}else{console.log("不是布尔值或布尔值字符串，请检查参数是否正确！");return true;}}}else{return true;}}}else{return true;}};this.control={edit:this.bc(a.edit),choice:this.bc(a.choice)};
if(a.key){if(typeof a.key=="function"){this.ext=function(){return a.key();};}else{this.solr.solrKey=a.key;}}if(a.setTop&&typeof a.setTop=="function"){this.setTop=function(){return a.setTop();
};}this.close={cn:this.bc(a.cn),save:this.bc(a.save),onClose:null};this.firstCate=null;this.kmFile=new KmFile();}Solr._CONS_={FORM_ID:"solr-qa-form",SOLR_LIST_URL:ctx+"/crm/solr/getSolrData.htm",QA_LIKE_LIST_URL:ctx+"/gl/qa/qaEntity/qaLikeListData.htm",DETAILCONTENT_URL:ctx+"/gl/qa/qaEntity/detailContent.htm",SOlR_ADD_URL:ctx+"/gl/qa/qaEntity/saveAdd.htm",SOLR_CATE_TREE_URL:ctx+"/gl/cate/cate/loadQaCateTreeData.htm",FAVORITE_URL:ctx+"/gl/qa/qaEntity/favorite.htm",FAVORITE_CANCEL_URL:ctx+"/gl/qa/qaEntity/favoriteCancel.htm",};
Solr.prototype={init:function(a){if(!this.hadInit){this.hadInit=true;this.solrLayer();this._hideNotGrantBtn();this._bindEventHander();this._bindFormValidation();
this._loadQaCateTree();}},_hideNotGrantBtn:function(){if(ResUtils.canShow("solr.button.edit")){this.control.edit=true;}},_loadQaCateTree:function(){var a=this;
var b={treeId:"qaEntityCateTree",cateTypeKey:"system",rootKey:"qa",userId:"",dragAble:true,contextMenu:{},onClick:function(c){a.cateId=c.id;var d="key=qa";
d+="&typeKey=system";a.solr.solrKey=$(".qa-result-box").find("input.question").val();FormUtils.loadData(Solr._CONS_.QA_LIKE_LIST_URL+"?key="+a.solr.solrKey+"&cateId="+a.cateId,function(e){$(".solr-tab-"+a.solr.solrType).find(".solr-result-list").empty().append(a.solrListHtml(e,true));
},function(){a.solrError();});}};ZtreeUtils.init(b);},_bindEventHander:function(){var a=this;$(document).on("click",a.layer.click,function(f){var d=$(this);
if($(this).is(".current-solr")){return false;}$(".current-solr").removeClass("current-solr");d.addClass("current-solr");$(".solr-tag-box").addClass("fs");
$(".solr-tag-sys").trigger("click");if(!a.solr.layer){var c=$("body").height();if(c<=a.layer.height){a.layer.height=c*0.9;}a.solr.layer=layer.open({id:a.layer.layerId,type:1,skin:a.layer.extraClass,closeBtn:0,zIndex:a.layer.zIndex,title:"",move:".solr-layer-move",resize:false,shade:false,area:[a.layer.width,a.layer.height],offset:a.layer.offset,content:$(a.layer.content),scrollbar:true,success:function(e,h){if(a.setTop&&typeof a.setTop=="function"){var g=a.setTop();
$("."+a.layer.extraClass).css({"z-index":g});}}});}else{if(a.setTop&&typeof a.setTop=="function"){var b=a.setTop();$("."+a.layer.extraClass).css({"z-index":b});
}}});$(document).on("mousedown","."+a.layer.extraClass,function(b){if(a.setTop){$(this).css({"z-index":a.setTop()});}});$(document).on("click",".solr-tag-box div",function(f){var d=$(this);
a.solr.solrType=d.attr("data-options");var c=$(".solr-tab-"+a.solr.solrType);if($(".solr-tag-box").is(".fs")){if(!a.layer.key){if(a.ext){a.solr.solrKey=a.ext();
}}$(".solr-tag-box").removeClass("fs");}else{a.solr.solrKey=$(".solr-tab-"+$(".solr-tag-box").find(".active").attr("data-options")).find("input.question").val();
}$(".wx-solr-content").hide();$(".solr-tab-sys").find("#detailForm").hide();d.find("span").hide();$(".solr-tag-box").find(".active").removeClass("active");
d.addClass("active");$(".solr-tab").removeClass("active");c.addClass("active");c.find(".wx-solr-content").show();if(c.find(".qa-result-box").length==0){c.find(".wx-solr-content").empty().append(a.solrQaHtml());
if(a.solr.solrType=="sys"){a._initWxFirstCate($(".wx-firstcate:first-child"));c.find(".firstCate-label").show();}}else{c.find(".solr-result-list").empty();
}c.find("input.question").val(a.solr.solrKey);var b="&pageNo="+a.solr.page;if(a.solr.solrKey){FormUtils.loadData(Solr._CONS_.SOLR_LIST_URL+"?solrType="+a.solr.solrType+"&solrKey="+a.solr.solrKey+"&type=manual",function(e){if(e.statusCode&&e.statusCode==200){a.solr.page=e.data.pageNo;
a.solr.totalPages=e.data.totalPages;c.find(".solr-result-list").append(a.solrListHtml(e.data));console.log(e);if(a.solr.page<a.solr.totalPages){a.solrPage();
}}else{if(e.statusCode&&e.statusCode==500){a.solrError();}}},function(){a.solrError();});}else{return false;}});$(".solr-tag-box div").hover(function(b){if(!$(this).is(".active")){$(this).find("span").stop().slideDown("fast");
}},function(b){if(!$(this).is(".active")){$(this).find("span").stop().slideUp("fast");}});$(document).on("click",".solr-layer-close",function(b){layer.close(a.solr.layer);
a.solr.layer=null;$(".current-solr").removeClass("current-solr");});$(document).on("click",".btn-solr",function(b){a.solr.solrKey=$(this).parent().prev().find("input.question").val();
if(a.solr.solrKey){FormUtils.loadData(Solr._CONS_.SOLR_LIST_URL+"?solrType="+a.solr.solrType+"&solrKey="+a.solr.solrKey,function(c){if(c.statusCode&&c.statusCode==200){a.solr.page=c.data.pageNo;
a.solr.totalPages=c.data.totalPages;$(".solr-tab-"+a.solr.solrType).find(".solr-result-list").empty().append(a.solrListHtml(c.data));if(a.solr.page<a.solr.totalPages){a.solrPage();
}}else{if(c.statusCode&&c.statusCode==500){a.solrError();}}},function(){a.solrError();});}});$(document).on("keydown",".question",function(b){if(b.keyCode==13){$(this).parent().parent().find(".btn-solr").trigger("click");
}});$(document).on("click",".solr-opt-add",function(c){var b=$(this).parent().parent();$("#chat-textarea").text(a.solrAnswerFormat(b.find(".answer").text(),true));
if(a.close.cn){$(".current-solr").removeClass("current-solr");layer.close(a.solr.layer);a.solr.layer=null;}});$(document).on("click",".solr-opt-edit",function(b){$("#question").val($(this).parent().clone().find(".solr-opt").remove().end().text());
$("#firstCateName").val("");$("#answer").val(a.solrAnswerFormat($(this).parent().next().text(),true));a.solr.qa=layer.open({type:1,skin:"layui-layer-demo",closeBtn:0,title:"",shadeClose:true,area:["600px","auto"],content:$(".solr-edit-layer")});
});$(document).on("click",".btn-solr-cancle",function(b){layer.close(a.solr.qa);a.solr.qa=null;});$(document).on("click",".btn-solr-add",function(c){var b=$("#firstCateName").val();
if(!$("#"+Solr._CONS_.FORM_ID).valid()){return false;}FormUtils.submitByFormId(Solr._CONS_.SOlR_ADD_URL,Solr._CONS_.FORM_ID,function(d){if(d.success){if(d.msgCode==actionCode.CREATE){DialogUtils.success(msgCode.INFO,msgCode.CREATE_MSG);
}else{if(d.msgCode==actionCode.UPDATE){DialogUtils.success(msgCode.INFO,msgCode.UPDATE_MSG);}}}else{DialogUtils.error(msgCode.FAIL_MSG,d.msg);}},function(){DialogUtils.error(msgCode.ERROR,msgCode.ERROR_MSG);
},true);$("#chat-textarea").text($("#answer").val());layer.close(a.solr.qa);a.solr.qa=null;if(a.close.save){$(".current-solr").removeClass("current-solr");
layer.close(a.solr.layer);a.solr.layer=null;}});$("#firstCateName").on("click",function(){var b={isMultiple:0,typeKey:"system",pKey:"qa",treeId:"solr-tree-id",url:Solr._CONS_.SOLR_CATE_TREE_URL,selectedCateIds:$("input[name='qaCateFirstId']").val(),container:"firstCateName",fn:function(f,e,g){if(f){$('input[name="cateId"]').val(f);
var d=a.getCurrentRootById(f);$('input[name="qaCateFirstId"]').val((d?d.id:""));}else{$('input[name="cateId"]').val("");$('input[name="qaCateFirstId"]').val("");
}},dataFilter:function c(f,d,e){if(e){return a.removeRoot(e);}}};CateUtils.selectCateTreeBox(b);});$(document).on("mouseenter",".solr-next-page",function(){$(this).find("span").stop().animate({"width":"100%"},"slow");
});$(document).on("mouseleave",".solr-next-page",function(){$(this).find("span").stop().animate({"width":"20%"},"slow");});$(document).on("click",".solr-next-page",function(c){var b=$(this);
FormUtils.loadData(Solr._CONS_.SOLR_LIST_URL+"?solrType="+a.solr.solrType+"&solrKey="+a.solr.solrKey+"&pageNo="+(a.solr.page+1),function(d){a.solr.page=d.data.pageNo;
a.solr.totalPages=d.data.totalPages;b.before(a.solrListHtml(d.data));console.log(d);if(a.solr.page==a.solr.totalPages){b.remove();}else{if(a.solr.page<a.solr.totalPages){$(".solr-next-page").find("em").eq(0).text(a.solr.page).end().eq(1).text(a.solr.totalPages);
}}});});$(document).on("click",".caption",function(){var b=$(this).attr("idVal");a._detailKmEntity(b);});$(".km-back-to-list").on("click",function(){$(".solr-tab-sys").find(".wx-solr-content").show();
$(".solr-tab-sys").find("#detailForm").hide();});$(".favorite").off("click").on("click",function(){var c=$(".solr-tab-sys").find("#detailForm").find("input[name=id]").val();
var b=$(this);FormUtils.submit(Solr._CONS_.FAVORITE_URL,{id:c},function(d){if(d.success){DialogUtils.success("提示","收藏成功！");b.next().show();b.hide();}else{DialogUtils.error(msgCode.ERROR,d.msg);
}});});$(".favoriteCancel").off("click").on("click",function(){var c=$(".solr-tab-sys").find("#detailForm").find("input[name=id]").val();var b=$(this);
FormUtils.submit(Solr._CONS_.FAVORITE_CANCEL_URL,{id:c},function(d){if(d.success){DialogUtils.success("提示","取消收藏成功！");b.prev().show();b.hide();}else{DialogUtils.error(msgCode.ERROR,d.msg);
}});});},_detailKmEntity:function(a){$(".solr-tab-sys").find(".wx-solr-content").hide();$(".solr-tab-sys").find("#detailForm").show();this._loadKmEntityDetail(a);
},_loadKmEntityDetail:function(b){var a=this;FormUtils.loadData(Solr._CONS_.DETAILCONTENT_URL+"?id="+b,function(c){$(".solr-tab-sys").find("#detailForm").find("input[name=id]").val(c.id);
$(".solr-tab-sys").find("#detailForm").find(".titleDetail").text(c.question);$(".solr-tab-sys").find("#detailForm").find(".timeDetail").text(c.createTime);
$(".solr-tab-sys").find("#detailForm").find(".authorDetail").text(c.createName);var d=new StringBuffer();d.append(c.content);$(".solr-tab-sys").find("#detailForm").find(".contentDetail").empty().append(d.toString());
if(c.qaEntityFilePos==""||!c.qaEntityFilePos){$(".solr-tab-sys").find("#detailForm").find(".filesDetail").hide();}else{$(".solr-tab-sys").find("#detailForm").find(".filesDetail").show();
$(".solr-tab-sys").find("#detailForm").find("#kmFileDetailDiv").empty();a.kmFile.createFilesDetailInHome(c.qaEntityFilePos);$(".solr-tab-sys").find("#detailForm").find(".deleteFile").hide();
}$(".solr-tab-sys").find("#detailForm").find(".favoriteCancel").hide();$(".solr-tab-sys").find("#detailForm").find(".favorite").hide();if(c.isFavorite=="y"){$(".solr-tab-sys").find("#detailForm").find(".favoriteCancel").show();
}else{$(".solr-tab-sys").find("#detailForm").find(".favorite").show();}if(!ResUtils.canShow("kmHome.button.copy")){$(kmFileDetailDiv).find(".kmCopyPath").remove();
}if(!ResUtils.canShow("kmHome.button.preview")){$(kmFileDetailDiv).find(".previewFile").remove();}});},solrQaHtml:function(b){var a=this;var c=new StringBuffer();
c.append("<div class='qa-result-box'>").append("<div class='sys-solr-cate'>").append("<div class='question-label'>").append("<input type='text' class='question' name='question' autocomplete='off' placeholder='请输入问题'></div>").append("<div class='btn-label'><button class='btn btn-sm btn-primary btn-solr'>搜索答案</button></div>").append("</div>").append("<div class='rows-content'>").append("<ul class='solr-result-list'>").append("</ul></div>").append("</div>");
return c.toString();},solrListHtml:function(f,h){var b=this,e=null,d=false,a="",g=new StringBuffer();if(f["baidu_zhidao"]){e=f.baidu_zhidao;}else{if(f["360_wenda"]){e=f["360_wenda"];
}else{if(f["sogou_wenwen"]){e=f["sogou_wenwen"];}else{if(f.result){e=f.result;}else{e=[];}d=true;}}}if(b.control.edit){a+="<span class='solr-opt solr-opt-edit'>编辑</span>";
}if(b.control.choice){a+="<span class='solr-opt solr-opt-add'>采纳</span>";}if(!h){if(e.length==0){return"<h3>还没有相关问答哦！</h3><p>系统问答库和其他搜索引擎都可以快速录入问答哦~</p>";
}}else{if(f.length<1){return"<div class='km-empty-result'>未知领域，暂时没有可供参考的数据...</div>";}}if(h){for(var c=0;c<f.length;c++){g.append("<div class='km-div'>").append("<div class='km-title-div'>").append("<a class='btn-link caption' idVal='"+f[c].id+"' href='javascript:void(0);'>").append("<i class='fa fa-file-text-o'></i>").append("<div class='km-items-title'>"+f[c].question+"</div>").append("</a>").append("<div class='km-items-msg'>").append("<span class='font-noraml'>发布人："+f[c].createName+" </span> ").append("<span class='font-noraml'>发布于："+f[c].createTime+" </span>").append("</div>").append("</div>").append("</div>");
}return g.toString();}for(var c=0;c<e.length;c++){g.append("<li data-id='"+e[c].id+"' data-socre='"+e[c].score+"' data-categoryId='"+e[c].categoryId+"'>").append("<div class='question'>").append(b.solrQuestionFormat(e[c].question)).append(d?"<span class='solr-score'>( 匹配度 "+(e[c].score*100).toFixed(2)+"% )</span>":"").append(a).append("</div><div class='answer'>").append(b.solrAnswerFormat(e[c].answer,false)).append("</div>").append("<div class='extra-message'><em>").append(b.cateIdtoCN(e[c].categoryId)+"</em> - "+(d?b.timeToDate(e[c].createTime):e[c].createTime)).append("</div>").append("</li>");
}return g.toString();},solrPage:function(){var a=this;sb=new StringBuffer();sb.append("<li class='solr-next-page'><span>&emsp;点击加载更多结果</span><div>第 <em>"+a.solr.page+"</em> 页，共 <em>"+a.solr.totalPages+"</em> 页</div></li>");
$(".solr-result-list").append(sb.toString());},solrLayer:function(){var a=this;var c=new StringBuffer();var b=[{key:"sys",name:"问答知识",bg:false},{key:"bd",name:"百度知道",bg:true},{key:"360",name:"360问答",bg:true},{key:"sg",name:"搜狗问问",bg:true}];
c.append("<!-- solr弹出层 -->").append("<div class='jt-solr' style='display: none;'>").append("<div class='layui-layer-title' style='border-bottom: transparent; background: rgba(39, 58, 74, 0.5);'>").append("<div class='solr-tag-box'>");
$.each(b,function(d,f){c.append("<div class='solr-tag-"+this.key+(d==0?" active":"")+"' data-options='"+this.key+"'>"+(this.bg?("<span>"+this.name+"</span><i></i>"):this.name)+"</div>");
});c.append("</div>").append("<div class='solr-layer-close'><i class='fa fa-times'></i></div>").append("<div class='solr-layer-move' move='ok' style='cursor: move;'></div>").append("</div>").append("<div class='tabs-container' style='background: #fff; height: 558px; border-top: 1px solid #273a4a;'>").append("<div class='tab-content'>");
$.each(b,function(d,f){if("sys"==this.key){c.append('<div class="solr-tab solr-tab-sys tab-pane active">').append('<div class="col-sm-2" style="padding: 10px 0 0 0;min-width:200px;height:100%;border-right: 4px solid #f1f1f1;overflow: auto;height: 560px;">').append('<ul id="qaEntityCateTree" class="ztree large gicon"></ul>').append("</div>").append('<div class="col-sm-9">').append('<div class="wx-solr-content"></div>').append(a.appendKmEntityForm()).append("</div>").append("</div>");
}else{c.append("<div class='solr-tab solr-tab-"+this.key+" tab-pane'><div class='wx-solr-content'></div></div>");}});c.append("</div></div></div>");c.append("<!-- 编辑层 -->").append("<div class='solr-edit-layer' style='display: none; overflow: hidden;'>").append("<form id='solr-qa-form'>").append("<div class='form-group'>").append("<div class='rows'>").append("<label class='col-sm-1 control-label left-label'>问题</label>").append("<div class='col-sm-10'>").append("<input type='text' id='question' name='question' autocomplete='off' placeholder='请输入问题' class='form-control' validateType='default'>").append("</div></div>").append("<div class='rows'>").append("<label class='col-sm-1 control-label left-label'>分类</label>").append("<div class='col-sm-10'>").append("<input type='text' id='firstCateName' name='firstCateName' readonly='readonly' autocomplete='off' placeholder='请选择分类...' class='form-control' validateType='default'>").append("</div></div>").append("<div class='rows'>").append("<label class='col-sm-1 control-label left-label'>答案</label>").append("<div class='col-sm-10'>").append("<textarea id='answer' name='answer' class='ui-autocomplete-input col-sm-12' style='min-height: 110px; width: 100%; resize: vertical;'></textarea>").append("</div></div>").append("<div class='rows' style='padding-right: 50px;'>").append("<div class='btn-solr-add'><i class='fa fa-heart'></i>保存到问答库</div>").append("<div class='btn-solr-cancle'>取消</div>").append("</div>").append("</div>").append("<div class='form-group' style='display: none'>").append("<!--将隐藏域放在这里，不显示出来-->").append("<input type='hidden' name='id' id='id'>").append("<input type='hidden' name='cateId' id='cateId'>").append("<input type='hidden' name='qaCateFirstId' id='qaCateFirstId'>").append("<input type='hidden' name='answerType' id='answerType' value='string'>").append("</div>").append("</form>").append("</div>");
$("body").append(c.toString());},solrError:function(){var a=this;var c=new StringBuffer();c.append("<div style='line-height: 25px;'>").append("<h1>系统出了点问题......</h1>").append("<p>您可以尝试以下方案进行处理:</p>").append("<p>1. 按F5刷新整个系统，然后再尝试（请先确认并保存正在编辑的管理数据，以免丢失）</p>").append("<p>2. 联系系统维护人员进行修复...</p>").append("</div>");
var b=$(".solr-tab-"+a.solr.solrType).find(".solr-result-list");if(b.children().length>0){b.empty();}b.append(c.toString());a.solr.page=0;a.solr.totalPages=0;
},solrAnswerFormat:function(c,b){var a=$.trim(c);if(a.substring(0,1)=="答"){a=a.substring(2,a.length);}if(a.substring(0,4)=="最佳答案"){a=a.substring(4,a.length);
}if(a.length-a.lastIndexOf("...")==3&&b){a=a.substring(0,a.lastIndexOf("..."));}return $.trim(a);},solrQuestionFormat:function(b){var a=$.trim(b);if(a.length-a.lastIndexOf("搜狗问问")==4){a=a.substring(0,a.lastIndexOf("-"));
}return $.trim(a);},_initWxFirstCate:function(b){var a=this;FormUtils.loadData(Solr._CONS_.SOLR_CATE_TREE_URL+"?cateTypeKey=system&rootKey=qa&type=system",function(c){if(c.length>0){a.solr.treeObj=c;
var e=new StringBuffer();c=a.findFirstCate(c);a.firstCate=c;for(var d=0;d<c.length;d++){e.append("<option value='"+c[d].value+"'>"+c[d].name+"</button>");
}$("#firstCateName").empty().append("<option value=''>请选择分类</option>"+e.toString());$(b).empty().append("<option value=''>全部分类</option>"+e.toString());
}});},findFirstCate:function(d){var a=this;var e=[];for(var c=0;c<d.length;c++){if(d[c].key=="qa"){for(var b=0;b<d.length;b++){if(d[b].parentId==d[c].id&&d[b].parentId!=d[b].id){e.push({value:d[b].id,"name":d[b].name});
}}break;}}return e;},getCurrentRootById:function(d){var a=this;var b=$.fn.zTree.getZTreeObj("solr-tree-id");var c=b.getNodeByParam("id",d);return a.getCurrentRoot(c);
},getCurrentRoot:function(c){var b=this;if(c){if(c.getParentNode()!=null){var a=c.getParentNode();return b.getCurrentRoot(a);}else{return c;}}else{return null;
}},removeRoot:function(b){for(var a=0;a<b.length;a++){if(b[a].key=="qa"){b.splice(a,1);break;}}return b;},_bindFormValidation:function(){var a={rules:{firstCateName:{required:true},question:{required:true,maxlength:128},answer:{required:true}},messages:{}};
FormUtils.bindFormValidation(Solr._CONS_.FORM_ID,a);},timeToDate:function(e){var b=new Date(e),f=b.getFullYear(),g=b.getMonth()+1,d=b.getDate(),a=b.getHours(),h=b.getMinutes(),c=b.getSeconds();
if(g<10){g="0"+g;}if(d<10){d="0"+d;}if(a<10){a="0"+a;}if(h<10){h="0"+h;}if(c<10){c="0"+c;}return f+"-"+g+"-"+d+" "+a+":"+h+":"+c;},cateIdtoCN:function(d){var b=this;
var a="";for(var c=0;c<b.firstCate.length;c++){if(b.firstCate[c].value==d){a=b.firstCate[c].name;break;}}if(a==""){return d;}else{return a;}},appendKmEntityForm:function(){return'<div  class="col-sm-12" id="detailForm" style="height:100%"><input type="hidden" name="id"><div class="km-list-router"><i  class="fa fa-arrow-circle-left km-back-to-list"></i><span class="km-back-to-list">返回列表</span></div><!--文章--><div class="km-article-layer"><div class="km-article-content"><!--标题--><div class="km-article-title titleDetail"></div><!--作者信息--><div class="km-article-ahour"><span class="font-noraml">发布人</span>&emsp;<span class="authorDetail"></span><br/><span class="font-noraml">发布于</span>&emsp;<span class="font-noraml timeDetail"></span></div><!--正文--><div class="km-article-main contentDetail"></div><!--附件--><div class="filesDetail"><div><span><i class="fa fa-paperclip"></i>&nbsp;附件<div class="checkbox checkbox-success checkbox-inline"style="margin-left:50px;display: none;"><inputtype="checkbox" class="isKmCopyClose"value="checkName"><labelfor="checkName">复制后自动关闭</label></div></span></div><div class="km-article-extra"id="kmFileDetailDiv"></div></div><!--点赞--><div class="km-article-opt"><span class="favorite"style="cursor:pointer;padding-left: 20px;color: #999;display: none;"><i class="fa fa-star"></i>收藏</span><span class="favoriteCancel"style="cursor:pointer;padding-left: 20px;color: #999;display: none;"><i class="fa fa-star-o"></i>取消收藏</span></div></div></div><!--导航--><div class="km-article-nav"></div></div>';
},};