<!DOCTYPE html>
<html>

<head>
	<title>代理商对账单管理</title>
	<#include "/common/common.html">
	<script src="${ctx}/js/jt/crm/agent/agentBill${deploy_min!""}.js?v=${jsVersion}"></script>
	<script src="${ctx}/js/jt/ec/salesorder/soEntityUtils${deploy_min!""}.js?v=${jsVersion}" ></script>
	<#include "/crm/agent/agentBill/agentBillDetail.html">
    <script>
		var agentId = "${agentId}";
		var agentName = "${agentName}";
	</script>
	<style type="text/css">
		.moneySo,.moneyService,.moneyStock,.moneyPackage,
		.moneyShip,.moneyCost,.returnMoneyShip,.returnedTotalAmount,
		.skuCount,.returnSkuCount,.returnMoneySo,.returnMoneyPackage,
		.returnMoneyStock,.returnMoneyCost { color: #fb0000; }
	</style>
</head>

<body>
	<div class="wrapper animated fadeInRight">
		<div class="panel panel-default">
			<div class="panel-body">
				<div class='tabs-container'>
					<ul class='nav nav-tabs'>
						<li class='tabLi tabLi1 active' id='agentBillTabLi'>
							<a href="#agentBillTab" data-toggle="tab">审核</a>
						</li>
						<li class='tabLi tabLi1' id='agentBillCheckTabLi'>
							<a href="#agentBillCheckTab" data-toggle="tab">核对</a>
						</li>
						<li class='tabLi tabLi1' id='agentBillFeedbackTabLi'>
							<a href="#agentBillFeedbackTab" data-toggle="tab">已反馈</a>
						</li>
						<li class='tabLi tabLi1' id='agentBillReturnTabLi'>
							<a href="#agentBillReturnTab" data-toggle="tab">返款</a>
						</li>
						<li class='tabLi tabLi1' id='agentBillFinishTabLi'>
							<a href="#agentBillFinishTab" data-toggle="tab">完成</a>
						</li>						
						<button type="button" style="margin-left:20px; margin-bottom:2px; line-height: 2em;" class="btn btn-sm jt-btn-normal btn-primary agentBillAdd">创建对账单</button>
						<button type="button" style="margin-left:20px; margin-bottom:2px; line-height: 2em;" class="btn btn-sm jt-btn-normal btn-primary agentBillCreate">同步数据</button>
						<a href="#" class='feeSetting'>去物流结算</a>
					</ul>
					<div class='tab-content'>
						<div id="agentBillTab" class="tab-pane fade in active">										
							<@JTAgentBillPanel completeTab="completeTab" rejectLostTab="rejectLostTab" fluctuateTab="fluctuateTab" buttonStr="<button type='button' class='btn btn-sm jt-btn-normal btn-primary agentBillDraft'>审核</button>" />					
						</div>	
						<div id="agentBillCheckTab" class="tab-pane fade in">										
							<@JTAgentBillPanel completeTab="completeCheckTab" rejectLostTab="rejectLostCheckTab" fluctuateTab="fluctuateCheckTab" buttonStr="<button type='button' class='btn btn-sm jt-btn-normal btn-primary agentBillCheck'>核对</button>
							<button type='button' class='btn btn-sm jt-btn-normal btn-primary agentBillFeedBack'>反馈</button>" />					
						</div>		
						<div id="agentBillFeedbackTab" class="tab-pane fade in">										
							<@JTAgentBillPanel completeTab="completeFeedbackTab" rejectLostTab="rejectLostFeedbackTab" fluctuateTab="fluctuateFeedbackTab" buttonStr="<button type='button' class='btn btn-sm jt-btn-normal btn-primary agentBillCheck'>核对</button>" />					
						</div>	
						<div id="agentBillReturnTab" class="tab-pane fade in">										
							<@JTAgentBillPanel completeTab="completeReturnTab" rejectLostTab="rejectLostReturnTab" fluctuateTab="fluctuateReturnTab" buttonStr="<button type='button' class='btn btn-sm jt-btn-normal btn-primary agentBillReturn'>返款</button>" />					
						</div>
						<div id="agentBillFinishTab" class="tab-pane fade in">										
							<@JTAgentBillPanel completeTab="completeFinishTab" rejectLostTab="rejectLostFinishTab" fluctuateTab="fluctuateFinishTab" buttonStr="" />					
						</div>									
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<!--对账单手工增减费用-->
	<div class="modal fade" id="fluctuateModalContainer" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	    <div class="modal-dialog" role="document">
	    	<div class="modal-content">
	      		<div class="modal-header">
	        		<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
	        		<h4 class="modal-title" id="myModalLabel">对账单手工增减费用</h4>
	      		</div>
		
		        <div class="modal-body">
			        <form method="get" id='agentBillOtherForm' class="form-horizontal">
			        	<input type='hidden' name='billId'>
			        	<div class="form-group">
							<label class="col-sm-2 control-label">费用类型</label>
							<div class="col-sm-3">
								<select name="type" class="form-control agentBillOtherType" ></select>
							</div>
							<label class="col-sm-2 control-label">费用增减</label>
							<div class="col-sm-3">
								<select name="direct" class="form-control" >
									<option value='1'>增加</option>
									<option value='0'>减少</option>
								</select>
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-2 control-label">金额</label>
							<div class="col-sm-3">
								<input name='money' type='number' validateType='default' class='form-control'/>
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-2 control-label">说明</label>
							<div class="col-sm-8">
								<textarea name='desc' rows='4' validateType='default' class='form-control'></textarea>
							</div>
						</div>
			        </form>
		        </div>
		        <div class="modal-footer">
		        	<button type="button" class="btn btn-sm   btn-primary" id='fluctuateSave'>保存</button>
		        	<button type="button" class="btn btn-sm   btn-default" data-dismiss="modal">关闭</button>
		        </div>
	        </div>
        </div>
    </div>
    
    <!--服务费计算-->
	<div class="modal fade" id="serviceModalContainer" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	    <div class="modal-dialog" role="document">
	    	<div class="modal-content">
	      		<div class="modal-header">
	        		<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
	        		<h4 class="modal-title" id="myModalLabel">服务费计算</h4>
	      		</div>
		
		        <div class="modal-body">
			        <form method="get" class="form-horizontal">
			        	<div class="form-group">
							<label class="col-sm-2 control-label">物流方式</label>
							<div class="col-sm-3">
								<input name='shipName' type='text' validateType='default' class='form-control' readonly='true'/>
								<input type='hidden' name='shipId'>
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-2 control-label">规则说明</label>
							<div class="col-sm-8">
								<textarea name='desc' rows='4' validateType='default' class='form-control' readonly='true'></textarea>
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-2 control-label">代收货款金额</label>
							<div class="col-sm-3">
								<input name='moneySo' type='text' validateType='default' class='form-control' readonly='true'/>
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-2 control-label">服务费</label>
							<div class="col-sm-3">
								<input name='moneyService' type='text' validateType='default' class='form-control' readonly='true'/>
							</div>
						</div>
			        </form>
		        </div>
		        <div class="modal-footer">
		        	<button type="button" class="btn btn-sm   btn-default" data-dismiss="modal">关闭</button>
		        </div>
	        </div>
        </div>
    </div>
    
    <!--仓储费和打包费计算-->
	<div class="modal fade" id="stockModalContainer" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	    <div class="modal-dialog" role="document">
	    	<div class="modal-content">
	      		<div class="modal-header">
	        		<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
	        		<h4 class="modal-title" id="myModalLabel">仓储费和打包费计算</h4>
	      		</div>
		
		        <div class="modal-body">
			         <form method="get" class="form-horizontal">
			        	<div class="form-group">
							<label class="col-sm-2 control-label">物流方式</label>
							<div class="col-sm-3">
								<input name='shipName' type='text' validateType='default' class='form-control' readonly='true'/>
								<input type='hidden' name='shipId'>
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-2 control-label">件数</label>
							<div class="col-sm-3">
								<input name='skuCount' type='text' validateType='default' class='form-control' readonly='true'/>
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-2 control-label">仓储费</label>
							<div class="col-sm-3">
								<input name='moneyStock' type='text' validateType='default' class='form-control' readonly='true'/>
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-2 control-label">打包费</label>
							<div class="col-sm-3">
								<input name='moneyPackage' type='text' validateType='default' class='form-control' readonly='true'/>
							</div>
						</div>
			        </form>
		        </div>
		        <div class="modal-footer">
		        	<button type="button" class="btn btn-sm   btn-default" data-dismiss="modal">关闭</button>
		        </div>
	        </div>
        </div>
    </div>
    
    <!--运费计算-->
	<div class="modal fade" id="freightModalContainer" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	    <div class="modal-dialog" role="document">
	    	<div class="modal-content">
	      		<div class="modal-header">
	        		<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
	        		<h4 class="modal-title" id="myModalLabel">运费计算</h4>
	      		</div>
		
		        <div class="modal-body">
			         <form method="get" class="form-horizontal">
			        	<div class="form-group">
							<label class="col-sm-2 control-label">物流方式</label>
							<div class="col-sm-3">
								<input name='shipName' type='text' validateType='default' class='form-control' readonly='true'/>
								<input type='hidden' name='shipId'>
								<input type='hidden' name='type'>
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-2 control-label">发货省份</label>
							<div class="col-sm-3">
								<select name="startPid" class="form-control" readonly='true'></select>
							</div>
							<label class="col-sm-2 control-label">目的地省份</label>
							<div class="col-sm-3">
								<select name="toPid" class="form-control" readonly='true'></select>
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-2 control-label">首重单价</label>
							<div class="col-sm-3">
								<input name='basePrice' type='text' validateType='default' class='form-control' readonly='true'/>
							</div>
							<label class="col-sm-2 control-label">续重单价</label>
							<div class="col-sm-3">
								<input name='additionalPrice' type='text' validateType='default' class='form-control' readonly='true'/>
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-2 control-label">重量</label>
							<div class="col-sm-3">
								<input name='weight' type='text' validateType='default' class='form-control' readonly='true'/>
							</div>
							<label class="col-sm-2 control-label">运费</label>
							<div class="col-sm-3">
								<input name='freight' type='text' validateType='default' class='form-control' readonly='true'/>
							</div>
						</div>
			        </form>
		        </div>
		        <div class="modal-footer">
		        	<button type="button" class="btn btn-sm   btn-default" data-dismiss="modal">关闭</button>
		        </div>
	        </div>
        </div>
    </div>
    <!--成本计算-->
	<div class="modal fade" id="costModalContainer" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	    <div class="modal-dialog" role="document">
	    	<div class="modal-content">
	      		<div class="modal-header">
	        		<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
	        		<h4 class="modal-title" id="myModalLabel">成本计算</h4>
	      		</div>
		
		        <div class="modal-body">
			        <form method="get" class="form-horizontal">
		        		<table class='table table-striped table-bordered '>
							<thead>
								<tr>
									<td>SKU名称</td><td>签收成本</td><td>数量</td><td>小计</td>
								</tr>
							</thead>
							<tbody class='costModalTbody'></tbody>
							<tfoot class='costModalTfoot'></tfoot>
						</table>	
			        </form>
		        </div>
		        <div class="modal-footer">
		        	<button type="button" class="btn btn-sm   btn-default" data-dismiss="modal">关闭</button>
		        </div>
	        </div>
        </div>
    </div>
</body>
</html>